{"nodes":[{"pos":[603,698],"content":"Defines the core behavior of classes used to search for specific correlating data in a message.","needQuote":true,"needEscape":true,"nodes":[{"content":"Defines the core behavior of classes used to search for specific correlating data in a message.","pos":[0,95]}]},{"pos":[711,2782],"content":"The MessageQuery class is similar to the <xref:System.ServiceModel.Dispatcher.MessageFilter> class.  However, instead of returning matches, the <xref:System.ServiceModel.Dispatcher.MessageQuery.Evaluate%2A> method returns the results of evaluating a query against a message. The result of the query is a value in the message. Use the value as a key to correlate the message to other messages. To add a new property for the data, use the <xref:System.ServiceModel.Channels.CorrelationDataMessageProperty.Add%2A> method of the <xref:System.ServiceModel.Channels.CorrelationDataMessageProperty> class.      > [!NOTE] >  For a concrete implementation of the MessageQuery, see the <xref:System.ServiceModel.XPathMessageQuery> class.      ## Using the XPathMessageQuery and MessageQueryCollection classes    You can optimize the query process by creating a set of query objects and inserting them into an instance of the <xref:System.ServiceModel.Dispatcher.MessageQueryCollection> class.      > [!NOTE] >  For a concrete implementation of the <xref:System.ServiceModel.Dispatcher.MessageQueryCollection>, see the <xref:System.ServiceModel.Dispatcher.XPathMessageQueryCollection> class.       A common usage is to populate the collection with queries that have the same XPath predicate, but that differ only in the final leaf value. For example, the following XPath queries are identical except for the final clause. The first queries for all elements that have the quantity attribute set to 1, and the second queries for elements with the product attribute set to 'Contoso'):      ```   \"/s12:Envelope/s12:Body/PurchaseOrder/Items/Item[@quantity = 1]\"   \"/s12:Envelope/s12:Body/PurchaseOrder/Items/Item[@product = 'Contoso']\"   ```       The <xref:System.ServiceModel.Dispatcher.MessageQueryCollection> class allows you to create tables of queries that differ only slightly, enabling more efficient processing.       Alternatively, you can use the <xref:System.ServiceModel.Dispatcher.MessageQueryTable%601> class to store and evaluate message queries.","needQuote":false,"needEscape":true,"nodes":[{"content":"The MessageQuery class is similar to the &lt;xref:System.ServiceModel.Dispatcher.MessageFilter&gt; class.","pos":[0,99],"source":"The MessageQuery class is similar to the <xref:System.ServiceModel.Dispatcher.MessageFilter> class."},{"content":"However, instead of returning matches, the &lt;xref:System.ServiceModel.Dispatcher.MessageQuery.Evaluate%2A&gt; method returns the results of evaluating a query against a message.","pos":[101,274],"source":"  However, instead of returning matches, the <xref:System.ServiceModel.Dispatcher.MessageQuery.Evaluate%2A> method returns the results of evaluating a query against a message."},{"content":"The result of the query is a value in the message.","pos":[275,325]},{"content":"Use the value as a key to correlate the message to other messages.","pos":[326,392]},{"content":"To add a new property for the data, use the &lt;xref:System.ServiceModel.Channels.CorrelationDataMessageProperty.Add%2A&gt; method of the &lt;xref:System.ServiceModel.Channels.CorrelationDataMessageProperty&gt; class.","pos":[393,598],"source":" To add a new property for the data, use the <xref:System.ServiceModel.Channels.CorrelationDataMessageProperty.Add%2A> method of the <xref:System.ServiceModel.Channels.CorrelationDataMessageProperty> class."},{"content":"&gt; <ph id=\"ph1\">[!NOTE]</ph> &gt;  For a concrete implementation of the MessageQuery, see the &lt;xref:System.ServiceModel.XPathMessageQuery&gt; class.","pos":[604,727],"source":"      > [!NOTE] >  For a concrete implementation of the MessageQuery, see the <xref:System.ServiceModel.XPathMessageQuery> class."},{"content":"Using the XPathMessageQuery and MessageQueryCollection classes    You can optimize the query process by creating a set of query objects and inserting them into an instance of the &lt;xref:System.ServiceModel.Dispatcher.MessageQueryCollection&gt; class.","pos":[736,982],"source":"      ## Using the XPathMessageQuery and MessageQueryCollection classes    You can optimize the query process by creating a set of query objects and inserting them into an instance of the <xref:System.ServiceModel.Dispatcher.MessageQueryCollection> class."},{"content":"&gt; <ph id=\"ph1\">[!NOTE]</ph> &gt;  For a concrete implementation of the &lt;xref:System.ServiceModel.Dispatcher.MessageQueryCollection&gt;, see the &lt;xref:System.ServiceModel.Dispatcher.XPathMessageQueryCollection&gt; class.","pos":[988,1180],"source":"      > [!NOTE] >  For a concrete implementation of the <xref:System.ServiceModel.Dispatcher.MessageQueryCollection>, see the <xref:System.ServiceModel.Dispatcher.XPathMessageQueryCollection> class."},{"content":"A common usage is to populate the collection with queries that have the same XPath predicate, but that differ only in the final leaf value.","pos":[1187,1326]},{"content":"For example, the following XPath queries are identical except for the final clause.","pos":[1327,1410]},{"content":"The first queries for all elements that have the quantity attribute set to 1, and the second queries for elements with the product attribute set to 'Contoso'):      <ph id=\"ph1\">```   \"/s12:Envelope/s12:Body/PurchaseOrder/Items/Item[@quantity = 1]\"   \"/s12:Envelope/s12:Body/PurchaseOrder/Items/Item[@product = 'Contoso']\"   ```</ph>       The &lt;xref:System.ServiceModel.Dispatcher.MessageQueryCollection&gt; class allows you to create tables of queries that differ only slightly, enabling more efficient processing.","pos":[1411,1905],"source":" The first queries for all elements that have the quantity attribute set to 1, and the second queries for elements with the product attribute set to 'Contoso'):      ```   \"/s12:Envelope/s12:Body/PurchaseOrder/Items/Item[@quantity = 1]\"   \"/s12:Envelope/s12:Body/PurchaseOrder/Items/Item[@product = 'Contoso']\"   ```       The <xref:System.ServiceModel.Dispatcher.MessageQueryCollection> class allows you to create tables of queries that differ only slightly, enabling more efficient processing."},{"content":"Alternatively, you can use the &lt;xref:System.ServiceModel.Dispatcher.MessageQueryTable%601&gt; class to store and evaluate message queries.","pos":[1912,2047],"source":"       Alternatively, you can use the <xref:System.ServiceModel.Dispatcher.MessageQueryTable%601> class to store and evaluate message queries."}]},{"pos":[3973,4078],"content":"Initializes a new instance of the <bpt id=\"p1\">&lt;xref href=\"System.ServiceModel.Dispatcher.MessageQuery\"&gt;</bpt><ept id=\"p1\">&lt;/xref&gt;</ept> class.","needQuote":true,"needEscape":true,"source":"Initializes a new instance of the <xref href=\"System.ServiceModel.Dispatcher.MessageQuery\"></xref> class."},{"pos":[4734,4822],"content":"Creates a collection of queries that returns a specific type of data associated with it.","needQuote":true,"needEscape":true,"nodes":[{"content":"Creates a collection of queries that returns a specific type of data associated with it.","pos":[0,88]}]},{"pos":[4834,4943],"content":"This method is intended to be used by the <xref:System.ServiceModel.Dispatcher.MessageQueryCollection> class.","needQuote":true,"needEscape":true,"nodes":[{"content":"This method is intended to be used by the &lt;xref:System.ServiceModel.Dispatcher.MessageQueryCollection&gt; class.","pos":[0,109],"source":"This method is intended to be used by the <xref:System.ServiceModel.Dispatcher.MessageQueryCollection> class."}]},{"pos":[5185,5316],"content":"<bpt id=\"p1\">&lt;xref href=\"System.ServiceModel.Dispatcher.MessageQueryCollection\"&gt;</bpt><ept id=\"p1\">&lt;/xref&gt;</ept> The collection of queries associated with the data type.","needQuote":true,"needEscape":true,"source":"<xref href=\"System.ServiceModel.Dispatcher.MessageQueryCollection\"></xref> The collection of queries associated with the data type."},{"pos":[6133,6145],"content":"To be added.","needQuote":true,"needEscape":true,"nodes":[{"content":"To be added.","pos":[0,12]}]},{"pos":[6197,6209],"content":"To be added.","needQuote":true,"needEscape":true,"nodes":[{"content":"To be added.","pos":[0,12]}]},{"pos":[7055,7067],"content":"To be added.","needQuote":true,"needEscape":true,"nodes":[{"content":"To be added.","pos":[0,12]}]},{"pos":[7119,7131],"content":"To be added.","needQuote":true,"needEscape":true,"nodes":[{"content":"To be added.","pos":[0,12]}]}],"content":"### YamlMime:ManagedReference\nitems:\n- uid: System.ServiceModel.Dispatcher.MessageQuery\n  id: MessageQuery\n  children:\n  - System.ServiceModel.Dispatcher.MessageQuery.#ctor\n  - System.ServiceModel.Dispatcher.MessageQuery.CreateMessageQueryCollection\n  - System.ServiceModel.Dispatcher.MessageQuery.Evaluate``1(System.ServiceModel.Channels.Message)\n  - System.ServiceModel.Dispatcher.MessageQuery.Evaluate``1(System.ServiceModel.Channels.MessageBuffer)\n  langs:\n  - csharp\n  name: MessageQuery\n  nameWithType: MessageQuery\n  fullName: System.ServiceModel.Dispatcher.MessageQuery\n  type: Class\n  summary: Defines the core behavior of classes used to search for specific correlating data in a message.\n  remarks: \"The MessageQuery class is similar to the <xref:System.ServiceModel.Dispatcher.MessageFilter> class.  However, instead of returning matches, the <xref:System.ServiceModel.Dispatcher.MessageQuery.Evaluate%2A> method returns the results of evaluating a query against a message. The result of the query is a value in the message. Use the value as a key to correlate the message to other messages. To add a new property for the data, use the <xref:System.ServiceModel.Channels.CorrelationDataMessageProperty.Add%2A> method of the <xref:System.ServiceModel.Channels.CorrelationDataMessageProperty> class.  \\n  \\n> [!NOTE]\\n>  For a concrete implementation of the MessageQuery, see the <xref:System.ServiceModel.XPathMessageQuery> class.  \\n  \\n## Using the XPathMessageQuery and MessageQueryCollection classes  \\n You can optimize the query process by creating a set of query objects and inserting them into an instance of the <xref:System.ServiceModel.Dispatcher.MessageQueryCollection> class.  \\n  \\n> [!NOTE]\\n>  For a concrete implementation of the <xref:System.ServiceModel.Dispatcher.MessageQueryCollection>, see the <xref:System.ServiceModel.Dispatcher.XPathMessageQueryCollection> class.  \\n  \\n A common usage is to populate the collection with queries that have the same XPath predicate, but that differ only in the final leaf value. For example, the following XPath queries are identical except for the final clause. The first queries for all elements that have the quantity attribute set to 1, and the second queries for elements with the product attribute set to 'Contoso'):  \\n  \\n```  \\n\\\"/s12:Envelope/s12:Body/PurchaseOrder/Items/Item[@quantity = 1]\\\"  \\n\\\"/s12:Envelope/s12:Body/PurchaseOrder/Items/Item[@product = 'Contoso']\\\"  \\n```  \\n  \\n The <xref:System.ServiceModel.Dispatcher.MessageQueryCollection> class allows you to create tables of queries that differ only slightly, enabling more efficient processing.  \\n  \\n Alternatively, you can use the <xref:System.ServiceModel.Dispatcher.MessageQueryTable%601> class to store and evaluate message queries.\"\n  example:\n  - \"The following example creates a message and XPath message queries. The queries are evaluated by the <xref:System.ServiceModel.XPathMessageQuery> objects contained in an <xref:System.ServiceModel.Dispatcher.XPathMessageQueryCollection> object. The results of each query are tested using the <xref:System.ServiceModel.Dispatcher.XPathResult.ResultType%2A> property of the <xref:System.ServiceModel.Dispatcher.XPathResult> class.  \\n  \\n [!code-vb[XPathMessageQuery#0](~/add/codesnippet/visualbasic/t-system.servicemodel.di_8_1.vb)]\\n [!code-cs[XPathMessageQuery#0](~/add/codesnippet/csharp/t-system.servicemodel.di_8_1.cs)]\"\n  syntax:\n    content: public abstract class MessageQuery\n  inheritance:\n  - System.Object\n  implements: []\n  inheritedMembers: []\n  platform:\n  - net462\n- uid: System.ServiceModel.Dispatcher.MessageQuery.#ctor\n  id: '#ctor'\n  parent: System.ServiceModel.Dispatcher.MessageQuery\n  langs:\n  - csharp\n  name: MessageQuery()\n  nameWithType: MessageQuery.MessageQuery()\n  fullName: System.ServiceModel.Dispatcher.MessageQuery.MessageQuery()\n  type: Constructor\n  assemblies:\n  - System.ServiceModel\n  namespace: System.ServiceModel.Dispatcher\n  summary: Initializes a new instance of the <xref href=\"System.ServiceModel.Dispatcher.MessageQuery\"></xref> class.\n  syntax:\n    content: protected MessageQuery ();\n    parameters: []\n  overload: System.ServiceModel.Dispatcher.MessageQuery.#ctor*\n  exceptions: []\n  platform:\n  - net462\n- uid: System.ServiceModel.Dispatcher.MessageQuery.CreateMessageQueryCollection\n  id: CreateMessageQueryCollection\n  parent: System.ServiceModel.Dispatcher.MessageQuery\n  langs:\n  - csharp\n  name: CreateMessageQueryCollection()\n  nameWithType: MessageQuery.CreateMessageQueryCollection()\n  fullName: System.ServiceModel.Dispatcher.MessageQuery.CreateMessageQueryCollection()\n  type: Method\n  assemblies:\n  - System.ServiceModel\n  namespace: System.ServiceModel.Dispatcher\n  summary: Creates a collection of queries that returns a specific type of data associated with it.\n  remarks: This method is intended to be used by the <xref:System.ServiceModel.Dispatcher.MessageQueryCollection> class.\n  syntax:\n    content: public virtual System.ServiceModel.Dispatcher.MessageQueryCollection CreateMessageQueryCollection ();\n    parameters: []\n    return:\n      type: System.ServiceModel.Dispatcher.MessageQueryCollection\n      description: <xref href=\"System.ServiceModel.Dispatcher.MessageQueryCollection\"></xref> The collection of queries associated with the data type.\n  overload: System.ServiceModel.Dispatcher.MessageQuery.CreateMessageQueryCollection*\n  exceptions: []\n  platform:\n  - net462\n- uid: System.ServiceModel.Dispatcher.MessageQuery.Evaluate``1(System.ServiceModel.Channels.Message)\n  id: Evaluate``1(System.ServiceModel.Channels.Message)\n  parent: System.ServiceModel.Dispatcher.MessageQuery\n  langs:\n  - csharp\n  name: Evaluate(Message)\n  nameWithType: MessageQuery.Evaluate(Message)\n  fullName: System.ServiceModel.Dispatcher.MessageQuery.Evaluate(Message)\n  type: Method\n  assemblies:\n  - System.ServiceModel\n  namespace: System.ServiceModel.Dispatcher\n  syntax:\n    content: public abstract TResult Evaluate<TResult> (System.ServiceModel.Channels.Message message);\n    parameters:\n    - id: message\n      type: System.ServiceModel.Channels.Message\n      description: To be added.\n    return:\n      type: TResult\n      description: To be added.\n  overload: System.ServiceModel.Dispatcher.MessageQuery.Evaluate<TResult>*\n  exceptions: []\n  platform:\n  - net462\n- uid: System.ServiceModel.Dispatcher.MessageQuery.Evaluate``1(System.ServiceModel.Channels.MessageBuffer)\n  id: Evaluate``1(System.ServiceModel.Channels.MessageBuffer)\n  parent: System.ServiceModel.Dispatcher.MessageQuery\n  langs:\n  - csharp\n  name: Evaluate(MessageBuffer)\n  nameWithType: MessageQuery.Evaluate(MessageBuffer)\n  fullName: System.ServiceModel.Dispatcher.MessageQuery.Evaluate(MessageBuffer)\n  type: Method\n  assemblies:\n  - System.ServiceModel\n  namespace: System.ServiceModel.Dispatcher\n  syntax:\n    content: public abstract TResult Evaluate<TResult> (System.ServiceModel.Channels.MessageBuffer buffer);\n    parameters:\n    - id: buffer\n      type: System.ServiceModel.Channels.MessageBuffer\n      description: To be added.\n    return:\n      type: TResult\n      description: To be added.\n  overload: System.ServiceModel.Dispatcher.MessageQuery.Evaluate<TResult>*\n  exceptions: []\n  platform:\n  - net462\nreferences:\n- uid: System.Object\n  isExternal: false\n  name: System.Object\n- uid: System.ServiceModel.Dispatcher.MessageQuery.#ctor\n  parent: System.ServiceModel.Dispatcher.MessageQuery\n  isExternal: false\n  name: MessageQuery()\n  nameWithType: MessageQuery.MessageQuery()\n  fullName: System.ServiceModel.Dispatcher.MessageQuery.MessageQuery()\n- uid: System.ServiceModel.Dispatcher.MessageQuery.CreateMessageQueryCollection\n  parent: System.ServiceModel.Dispatcher.MessageQuery\n  isExternal: false\n  name: CreateMessageQueryCollection()\n  nameWithType: MessageQuery.CreateMessageQueryCollection()\n  fullName: System.ServiceModel.Dispatcher.MessageQuery.CreateMessageQueryCollection()\n- uid: System.ServiceModel.Dispatcher.MessageQueryCollection\n  parent: System.ServiceModel.Dispatcher\n  isExternal: false\n  name: MessageQueryCollection\n  nameWithType: MessageQueryCollection\n  fullName: System.ServiceModel.Dispatcher.MessageQueryCollection\n- uid: System.ServiceModel.Dispatcher.MessageQuery.Evaluate``1(System.ServiceModel.Channels.Message)\n  parent: System.ServiceModel.Dispatcher.MessageQuery\n  isExternal: false\n  name: Evaluate(Message)\n  nameWithType: MessageQuery.Evaluate(Message)\n  fullName: System.ServiceModel.Dispatcher.MessageQuery.Evaluate(Message)\n- uid: TResult\n  isExternal: true\n  name: TResult\n  nameWithType: TResult\n  fullName: TResult\n- uid: System.ServiceModel.Channels.Message\n  parent: System.ServiceModel.Channels\n  isExternal: true\n  name: Message\n  nameWithType: Message\n  fullName: System.ServiceModel.Channels.Message\n- uid: System.ServiceModel.Dispatcher.MessageQuery.Evaluate``1(System.ServiceModel.Channels.MessageBuffer)\n  parent: System.ServiceModel.Dispatcher.MessageQuery\n  isExternal: false\n  name: Evaluate(MessageBuffer)\n  nameWithType: MessageQuery.Evaluate(MessageBuffer)\n  fullName: System.ServiceModel.Dispatcher.MessageQuery.Evaluate(MessageBuffer)\n- uid: System.ServiceModel.Channels.MessageBuffer\n  parent: System.ServiceModel.Channels\n  isExternal: true\n  name: MessageBuffer\n  nameWithType: MessageBuffer\n  fullName: System.ServiceModel.Channels.MessageBuffer\n- uid: System.ServiceModel.Dispatcher.MessageQuery.#ctor*\n  parent: System.ServiceModel.Dispatcher.MessageQuery\n  isExternal: false\n  name: MessageQuery\n  nameWithType: MessageQuery.MessageQuery\n- uid: System.ServiceModel.Dispatcher.MessageQuery.CreateMessageQueryCollection*\n  parent: System.ServiceModel.Dispatcher.MessageQuery\n  isExternal: false\n  name: CreateMessageQueryCollection\n  nameWithType: MessageQuery.CreateMessageQueryCollection\n- uid: System.ServiceModel.Dispatcher.MessageQuery.Evaluate<TResult>*\n  parent: System.ServiceModel.Dispatcher.MessageQuery\n  isExternal: false\n  name: Evaluate<TResult>\n  nameWithType: MessageQuery.Evaluate<TResult>\n"}