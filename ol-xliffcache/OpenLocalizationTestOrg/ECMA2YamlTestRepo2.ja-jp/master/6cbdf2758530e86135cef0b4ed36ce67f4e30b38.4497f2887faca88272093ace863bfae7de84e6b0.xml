{"nodes":[{"pos":[539,623],"content":"Provides methods for encrypting and decrypting data. This class cannot be inherited.","needQuote":true,"needEscape":true,"nodes":[{"content":"Provides methods for encrypting and decrypting data. This class cannot be inherited.","pos":[0,84],"nodes":[{"content":"Provides methods for encrypting and decrypting data.","pos":[0,52]},{"content":"This class cannot be inherited.","pos":[53,84]}]}]},{"pos":[3288,3390],"content":"Encrypts the data in a specified byte array and returns a byte array that contains the encrypted data.","needQuote":true,"needEscape":true,"nodes":[{"content":"Encrypts the data in a specified byte array and returns a byte array that contains the encrypted data.","pos":[0,102]}]},{"pos":[3403,4043],"content":"This method can be used to encrypt data such as passwords, keys, or connection strings. The `optionalEntropy` parameter enables you to add data to increase the complexity of the encryption; specify `null` for no additional complexity. If provided, this information must also be used when decrypting the data using the <xref:System.Security.Cryptography.ProtectedData.Unprotect%2A> method.      > [!NOTE] >  If you use this method during impersonation, you may receive the following error: \"Key not valid for use in specified state.\" To prevent this error, load the profile of the user you want to impersonate before calling the method.","needQuote":false,"needEscape":true,"nodes":[{"content":"This method can be used to encrypt data such as passwords, keys, or connection strings.","pos":[0,87]},{"content":"The <ph id=\"ph1\">`optionalEntropy`</ph> parameter enables you to add data to increase the complexity of the encryption; specify <ph id=\"ph2\">`null`</ph> for no additional complexity.","pos":[88,234],"source":" The `optionalEntropy` parameter enables you to add data to increase the complexity of the encryption; specify `null` for no additional complexity."},{"content":"If provided, this information must also be used when decrypting the data using the &lt;xref:System.Security.Cryptography.ProtectedData.Unprotect%2A&gt; method.","pos":[235,388],"source":" If provided, this information must also be used when decrypting the data using the <xref:System.Security.Cryptography.ProtectedData.Unprotect%2A> method."},{"content":"&gt; <ph id=\"ph1\">[!NOTE]</ph> &gt;  If you use this method during impersonation, you may receive the following error: \"Key not valid for use in specified state.\"","pos":[394,532],"source":"      > [!NOTE] >  If you use this method during impersonation, you may receive the following error: \"Key not valid for use in specified state.\""},{"content":"To prevent this error, load the profile of the user you want to impersonate before calling the method.","pos":[533,635]}]},{"pos":[4677,4720],"content":"A byte array that contains data to encrypt.","needQuote":true,"needEscape":true,"nodes":[{"content":"A byte array that contains data to encrypt.","pos":[0,43]}]},{"pos":[4792,4970],"content":"An optional additional byte array used to increase the complexity of the encryption, or <bpt id=\"p1\">&lt;xref uid=\"langword_csharp_null\" name=\"null\" href=\"\"&gt;</bpt><ept id=\"p1\">&lt;/xref&gt;</ept> for no additional complexity.","needQuote":true,"needEscape":true,"source":"An optional additional byte array used to increase the complexity of the encryption, or <xref uid=\"langword_csharp_null\" name=\"null\" href=\"\"></xref> for no additional complexity."},{"pos":[5067,5136],"content":"One of the enumeration values that specifies the scope of encryption.","needQuote":true,"needEscape":true,"nodes":[{"content":"One of the enumeration values that specifies the scope of encryption.","pos":[0,69]}]},{"pos":[5194,5239],"content":"A byte array representing the encrypted data.","needQuote":true,"needEscape":true,"nodes":[{"content":"A byte array representing the encrypted data.","pos":[0,45]}]},{"pos":[5420,5520],"content":"The <bpt id=\"p1\">&lt;code&gt;</bpt><ph id=\"ph1\">userData</ph><ept id=\"p1\">&lt;/code&gt;</ept> parameter is <bpt id=\"p2\">&lt;xref uid=\"langword_csharp_null\" name=\"null\" href=\"\"&gt;</bpt><ept id=\"p2\">&lt;/xref&gt;</ept>.","needQuote":true,"needEscape":true,"source":"The <code>userData</code> parameter is <xref uid=\"langword_csharp_null\" name=\"null\" href=\"\"></xref>."},{"pos":[5669,5691],"content":"The encryption failed.","needQuote":true,"needEscape":true,"nodes":[{"content":"The encryption failed.","pos":[0,22]}]},{"pos":[5794,5844],"content":"The operating system does not support this method.","needQuote":true,"needEscape":true,"nodes":[{"content":"The operating system does not support this method.","pos":[0,50]}]},{"pos":[5945,6000],"content":"The system ran out of memory while encrypting the data.","needQuote":true,"needEscape":true,"nodes":[{"content":"The system ran out of memory while encrypting the data.","pos":[0,55]}]},{"pos":[6659,6761],"content":"Decrypts the data in a specified byte array and returns a byte array that contains the decrypted data.","needQuote":true,"needEscape":true,"nodes":[{"content":"Decrypts the data in a specified byte array and returns a byte array that contains the decrypted data.","pos":[0,102]}]},{"pos":[6774,7271],"content":"This method can be used to unprotect data that was encrypted using the <xref:System.Security.Cryptography.ProtectedData.Protect%2A> method. If the `optionalEntropy` parameter was used during encryption, it must be supplied to unencrypt the data.      > [!NOTE] >  If you use this method during impersonation, you may receive the following error: \"Key not valid for use in specified state.\" To prevent this error, load the profile of the user you want to impersonate before calling the method.","needQuote":false,"needEscape":true,"nodes":[{"content":"This method can be used to unprotect data that was encrypted using the &lt;xref:System.Security.Cryptography.ProtectedData.Protect%2A&gt; method.","pos":[0,139],"source":"This method can be used to unprotect data that was encrypted using the <xref:System.Security.Cryptography.ProtectedData.Protect%2A> method."},{"content":"If the <ph id=\"ph1\">`optionalEntropy`</ph> parameter was used during encryption, it must be supplied to unencrypt the data.","pos":[140,245],"source":" If the `optionalEntropy` parameter was used during encryption, it must be supplied to unencrypt the data."},{"content":"&gt; <ph id=\"ph1\">[!NOTE]</ph> &gt;  If you use this method during impersonation, you may receive the following error: \"Key not valid for use in specified state.\"","pos":[251,389],"source":"      > [!NOTE] >  If you use this method during impersonation, you may receive the following error: \"Key not valid for use in specified state.\""},{"content":"To prevent this error, load the profile of the user you want to impersonate before calling the method.","pos":[390,492]}]},{"pos":[7922,8037],"content":"A byte array containing data encrypted using the <xref:System.Security.Cryptography.ProtectedData.Protect*> method.","needQuote":true,"needEscape":true,"nodes":[{"content":"A byte array containing data encrypted using the &lt;xref:System.Security.Cryptography.ProtectedData.Protect*&gt; method.","pos":[0,115],"source":"A byte array containing data encrypted using the <xref:System.Security.Cryptography.ProtectedData.Protect*> method."}]},{"pos":[8109,8284],"content":"An optional additional byte array that was used to encrypt the data, or <bpt id=\"p1\">&lt;xref uid=\"langword_csharp_null\" name=\"null\" href=\"\"&gt;</bpt><ept id=\"p1\">&lt;/xref&gt;</ept> if the additional byte array was not used.","needQuote":true,"needEscape":true,"source":"An optional additional byte array that was used to encrypt the data, or <xref uid=\"langword_csharp_null\" name=\"null\" href=\"\"></xref> if the additional byte array was not used."},{"pos":[8381,8489],"content":"One of the enumeration values that specifies the scope of data protection that was used to encrypt the data.","needQuote":true,"needEscape":true,"nodes":[{"content":"One of the enumeration values that specifies the scope of data protection that was used to encrypt the data.","pos":[0,108]}]},{"pos":[8547,8592],"content":"A byte array representing the decrypted data.","needQuote":true,"needEscape":true,"nodes":[{"content":"A byte array representing the decrypted data.","pos":[0,45]}]},{"pos":[8775,8880],"content":"The <bpt id=\"p1\">&lt;code&gt;</bpt><ph id=\"ph1\">encryptedData</ph><ept id=\"p1\">&lt;/code&gt;</ept> parameter is <bpt id=\"p2\">&lt;xref uid=\"langword_csharp_null\" name=\"null\" href=\"\"&gt;</bpt><ept id=\"p2\">&lt;/xref&gt;</ept>.","needQuote":true,"needEscape":true,"source":"The <code>encryptedData</code> parameter is <xref uid=\"langword_csharp_null\" name=\"null\" href=\"\"></xref>."},{"pos":[9029,9051],"content":"The decryption failed.","needQuote":true,"needEscape":true,"nodes":[{"content":"The decryption failed.","pos":[0,22]}]},{"pos":[9154,9204],"content":"The operating system does not support this method.","needQuote":true,"needEscape":true,"nodes":[{"content":"The operating system does not support this method.","pos":[0,50]}]},{"pos":[9305,9319],"content":"Out of memory.","needQuote":true,"needEscape":true,"nodes":[{"content":"Out of memory.","pos":[0,14]}]}],"content":"### YamlMime:ManagedReference\nitems:\n- uid: System.Security.Cryptography.ProtectedData\n  id: ProtectedData\n  children:\n  - System.Security.Cryptography.ProtectedData.Protect(System.Byte[],System.Byte[],System.Security.Cryptography.DataProtectionScope)\n  - System.Security.Cryptography.ProtectedData.Unprotect(System.Byte[],System.Byte[],System.Security.Cryptography.DataProtectionScope)\n  langs:\n  - csharp\n  name: ProtectedData\n  nameWithType: ProtectedData\n  fullName: System.Security.Cryptography.ProtectedData\n  type: Class\n  summary: Provides methods for encrypting and decrypting data. This class cannot be inherited.\n  remarks: \"This class provides access to the Data Protection API (DPAPI) available in Microsoft Windows 2000 and later operating systems. This is a service that is provided by the operating system and does not require additional libraries. It provides protection using the user or machine credentials to encrypt or decrypt data.  \\n  \\n The class consists of two wrappers for the unmanaged DPAPI, [Protect(Byte\\\\[\\\\], Byte\\\\[\\\\], DataProtectionScope)](assetId:///M:System.Security.Cryptography.ProtectedData.Protect(System.Byte[],System.Byte[],System.Security.Cryptography.DataProtectionScope)?qualifyHint=False&autoUpgrade=True) and [Unprotect(Byte\\\\[\\\\], Byte\\\\[\\\\], DataProtectionScope)](assetId:///M:System.Security.Cryptography.ProtectedData.Unprotect(System.Byte[],System.Byte[],System.Security.Cryptography.DataProtectionScope)?qualifyHint=False&autoUpgrade=True). These two methods can be used to encrypt and decrypt data such as passwords, keys, and connection strings.  \\n  \\n If you use these methods during impersonation, you may receive the following error: \\\"Key not valid for use in specified state.\\\" This occurs because the DPAPI stores the key data in user profiles. If the profile is not loaded, DPAPI won’t be able to perform the decryption. To prevent this error, load the profile of the user you want to impersonate before calling either method. Using DPAPI with impersonation can incur significant complication and requires careful design choices.\"\n  example:\n  - \"The following example shows how to use data protection.  \\n  \\n [!code-cs[Cryptography.DataProtectionSample#1](~/add/codesnippet/csharp/t-system.security.crypto_126_1.cs)]\\n [!code-cpp[Cryptography.DataProtectionSample#1](~/add/codesnippet/cpp/t-system.security.crypto_126_1.cpp)]\\n [!code-vb[Cryptography.DataProtectionSample#1](~/add/codesnippet/visualbasic/t-system.security.crypto_126_1.vb)]\"\n  syntax:\n    content: public static class ProtectedData\n  inheritance:\n  - System.Object\n  implements: []\n  inheritedMembers: []\n  platform:\n  - net462\n- uid: System.Security.Cryptography.ProtectedData.Protect(System.Byte[],System.Byte[],System.Security.Cryptography.DataProtectionScope)\n  id: Protect(System.Byte[],System.Byte[],System.Security.Cryptography.DataProtectionScope)\n  parent: System.Security.Cryptography.ProtectedData\n  langs:\n  - csharp\n  name: Protect(Byte[],Byte[],DataProtectionScope)\n  nameWithType: ProtectedData.Protect(Byte[],Byte[],DataProtectionScope)\n  fullName: System.Security.Cryptography.ProtectedData.Protect(Byte[],Byte[],DataProtectionScope)\n  type: Method\n  assemblies:\n  - System.Security\n  namespace: System.Security.Cryptography\n  summary: Encrypts the data in a specified byte array and returns a byte array that contains the encrypted data.\n  remarks: \"This method can be used to encrypt data such as passwords, keys, or connection strings. The `optionalEntropy` parameter enables you to add data to increase the complexity of the encryption; specify `null` for no additional complexity. If provided, this information must also be used when decrypting the data using the <xref:System.Security.Cryptography.ProtectedData.Unprotect%2A> method.  \\n  \\n> [!NOTE]\\n>  If you use this method during impersonation, you may receive the following error: \\\"Key not valid for use in specified state.\\\" To prevent this error, load the profile of the user you want to impersonate before calling the method.\"\n  example:\n  - \"The following example shows how to use data protection.  \\n  \\n [!code-cs[Cryptography.DataProtectionSample#1](~/add/codesnippet/csharp/95867340-d3f0-4c9c-82ca-_1.cs)]\\n [!code-cpp[Cryptography.DataProtectionSample#1](~/add/codesnippet/cpp/95867340-d3f0-4c9c-82ca-_1.cpp)]\\n [!code-vb[Cryptography.DataProtectionSample#1](~/add/codesnippet/visualbasic/95867340-d3f0-4c9c-82ca-_1.vb)]\"\n  syntax:\n    content: public static byte[] Protect (byte[] userData, byte[] optionalEntropy, System.Security.Cryptography.DataProtectionScope scope);\n    parameters:\n    - id: userData\n      type: System.Byte[]\n      description: A byte array that contains data to encrypt.\n    - id: optionalEntropy\n      type: System.Byte[]\n      description: An optional additional byte array used to increase the complexity of the encryption, or <xref uid=\"langword_csharp_null\" name=\"null\" href=\"\"></xref> for no additional complexity.\n    - id: scope\n      type: System.Security.Cryptography.DataProtectionScope\n      description: One of the enumeration values that specifies the scope of encryption.\n    return:\n      type: System.Byte[]\n      description: A byte array representing the encrypted data.\n  overload: System.Security.Cryptography.ProtectedData.Protect*\n  exceptions:\n  - type: System.ArgumentNullException\n    commentId: T:System.ArgumentNullException\n    description: The <code>userData</code> parameter is <xref uid=\"langword_csharp_null\" name=\"null\" href=\"\"></xref>.\n  - type: System.Security.Cryptography.CryptographicException\n    commentId: T:System.Security.Cryptography.CryptographicException\n    description: The encryption failed.\n  - type: System.NotSupportedException\n    commentId: T:System.NotSupportedException\n    description: The operating system does not support this method.\n  - type: System.OutOfMemoryException\n    commentId: T:System.OutOfMemoryException\n    description: The system ran out of memory while encrypting the data.\n  platform:\n  - net462\n- uid: System.Security.Cryptography.ProtectedData.Unprotect(System.Byte[],System.Byte[],System.Security.Cryptography.DataProtectionScope)\n  id: Unprotect(System.Byte[],System.Byte[],System.Security.Cryptography.DataProtectionScope)\n  parent: System.Security.Cryptography.ProtectedData\n  langs:\n  - csharp\n  name: Unprotect(Byte[],Byte[],DataProtectionScope)\n  nameWithType: ProtectedData.Unprotect(Byte[],Byte[],DataProtectionScope)\n  fullName: System.Security.Cryptography.ProtectedData.Unprotect(Byte[],Byte[],DataProtectionScope)\n  type: Method\n  assemblies:\n  - System.Security\n  namespace: System.Security.Cryptography\n  summary: Decrypts the data in a specified byte array and returns a byte array that contains the decrypted data.\n  remarks: \"This method can be used to unprotect data that was encrypted using the <xref:System.Security.Cryptography.ProtectedData.Protect%2A> method. If the `optionalEntropy` parameter was used during encryption, it must be supplied to unencrypt the data.  \\n  \\n> [!NOTE]\\n>  If you use this method during impersonation, you may receive the following error: \\\"Key not valid for use in specified state.\\\" To prevent this error, load the profile of the user you want to impersonate before calling the method.\"\n  example:\n  - \"The following code example shows how to use data protection.  \\n  \\n [!code-cs[Cryptography.DataProtectionSample#1](~/add/codesnippet/csharp/52a5e76e-1631-47b1-9e44-_1.cs)]\\n [!code-cpp[Cryptography.DataProtectionSample#1](~/add/codesnippet/cpp/52a5e76e-1631-47b1-9e44-_1.cpp)]\\n [!code-vb[Cryptography.DataProtectionSample#1](~/add/codesnippet/visualbasic/52a5e76e-1631-47b1-9e44-_1.vb)]\"\n  syntax:\n    content: public static byte[] Unprotect (byte[] encryptedData, byte[] optionalEntropy, System.Security.Cryptography.DataProtectionScope scope);\n    parameters:\n    - id: encryptedData\n      type: System.Byte[]\n      description: A byte array containing data encrypted using the <xref:System.Security.Cryptography.ProtectedData.Protect*> method.\n    - id: optionalEntropy\n      type: System.Byte[]\n      description: An optional additional byte array that was used to encrypt the data, or <xref uid=\"langword_csharp_null\" name=\"null\" href=\"\"></xref> if the additional byte array was not used.\n    - id: scope\n      type: System.Security.Cryptography.DataProtectionScope\n      description: One of the enumeration values that specifies the scope of data protection that was used to encrypt the data.\n    return:\n      type: System.Byte[]\n      description: A byte array representing the decrypted data.\n  overload: System.Security.Cryptography.ProtectedData.Unprotect*\n  exceptions:\n  - type: System.ArgumentNullException\n    commentId: T:System.ArgumentNullException\n    description: The <code>encryptedData</code> parameter is <xref uid=\"langword_csharp_null\" name=\"null\" href=\"\"></xref>.\n  - type: System.Security.Cryptography.CryptographicException\n    commentId: T:System.Security.Cryptography.CryptographicException\n    description: The decryption failed.\n  - type: System.NotSupportedException\n    commentId: T:System.NotSupportedException\n    description: The operating system does not support this method.\n  - type: System.OutOfMemoryException\n    commentId: T:System.OutOfMemoryException\n    description: Out of memory.\n  platform:\n  - net462\nreferences:\n- uid: System.Object\n  isExternal: false\n  name: System.Object\n- uid: System.ArgumentNullException\n  isExternal: true\n  name: System.ArgumentNullException\n- uid: System.Security.Cryptography.CryptographicException\n  parent: System.Security.Cryptography\n  isExternal: false\n  name: CryptographicException\n  nameWithType: CryptographicException\n  fullName: System.Security.Cryptography.CryptographicException\n- uid: System.NotSupportedException\n  isExternal: true\n  name: System.NotSupportedException\n- uid: System.OutOfMemoryException\n  isExternal: true\n  name: System.OutOfMemoryException\n- uid: System.Security.Cryptography.ProtectedData.Protect(System.Byte[],System.Byte[],System.Security.Cryptography.DataProtectionScope)\n  parent: System.Security.Cryptography.ProtectedData\n  isExternal: false\n  name: Protect(Byte[],Byte[],DataProtectionScope)\n  nameWithType: ProtectedData.Protect(Byte[],Byte[],DataProtectionScope)\n  fullName: System.Security.Cryptography.ProtectedData.Protect(Byte[],Byte[],DataProtectionScope)\n- uid: System.Byte[]\n  parent: System\n  isExternal: true\n  name: Byte\n  nameWithType: Byte\n  fullName: System.Byte[]\n  spec.csharp:\n  - uid: System.Byte\n    name: Byte\n    nameWithType: Byte\n    fullName: Byte[]\n  - name: '[]'\n    nameWithType: '[]'\n    fullName: '[]'\n- uid: System.Security.Cryptography.DataProtectionScope\n  parent: System.Security.Cryptography\n  isExternal: false\n  name: DataProtectionScope\n  nameWithType: DataProtectionScope\n  fullName: System.Security.Cryptography.DataProtectionScope\n- uid: System.Security.Cryptography.ProtectedData.Unprotect(System.Byte[],System.Byte[],System.Security.Cryptography.DataProtectionScope)\n  parent: System.Security.Cryptography.ProtectedData\n  isExternal: false\n  name: Unprotect(Byte[],Byte[],DataProtectionScope)\n  nameWithType: ProtectedData.Unprotect(Byte[],Byte[],DataProtectionScope)\n  fullName: System.Security.Cryptography.ProtectedData.Unprotect(Byte[],Byte[],DataProtectionScope)\n- uid: System.Security.Cryptography.ProtectedData.Protect*\n  parent: System.Security.Cryptography.ProtectedData\n  isExternal: false\n  name: Protect\n  nameWithType: ProtectedData.Protect\n- uid: System.Security.Cryptography.ProtectedData.Unprotect*\n  parent: System.Security.Cryptography.ProtectedData\n  isExternal: false\n  name: Unprotect\n  nameWithType: ProtectedData.Unprotect\n"}