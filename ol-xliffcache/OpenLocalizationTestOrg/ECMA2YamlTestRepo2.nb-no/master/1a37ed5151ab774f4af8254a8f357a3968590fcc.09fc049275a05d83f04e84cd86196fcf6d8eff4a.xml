{"nodes":[{"pos":[663,779],"content":"Describes an object that acts as a commit delegate for a non-distributed transaction internal to a resource manager.","needQuote":true,"needEscape":true,"nodes":[{"content":"Describes an object that acts as a commit delegate for a non-distributed transaction internal to a resource manager.","pos":[0,116]}]},{"pos":[792,2626],"content":"Promotable Enlistments (PSPE) allow a resource, such as a database, to take ownership of the transaction if it is the only entity participating in the transaction. Later, if needed, the <xref:System.Transactions> infrastructure can still escalate the transaction to MSDTC. For more information, see [Optimization Using Single Phase Commit and Promotable Single Phase Notification](http://msdn.microsoft.com/en-us/653d51d1-b4bf-4e34-9a6f-aec073f0f5bb).       A resource manager that implements this interface delegates control of the commit of it's internal non-distributed transaction to an enlistment on a <xref:System.Transactions> transaction through the <xref:System.Transactions.Transaction.EnlistPromotableSinglePhase%2A> method on the <xref:System.Transactions.Transaction> class.       If the <xref:System.Transactions.ITransactionPromoter.Promote%2A?displayProperty=fullName> method is called, your implementation of this interface must produce a distributed transaction in the form of a propagation token, and return it to <xref:System.Transactions>.       After you enlist an object that implements this interface as a participant of a transaction using the <xref:System.Transactions.Transaction.EnlistPromotableSinglePhase%2A> method, the transaction manager then notifies the participant when the transaction is promoted, committed, or rolled back by invoking the <xref:System.Transactions.ITransactionPromoter.Promote%2A> method, the <xref:System.Transactions.IPromotableSinglePhaseNotification.SinglePhaseCommit%2A> method, or the <xref:System.Transactions.IPromotableSinglePhaseNotification.Rollback%2A> method of the object.       For more information, see [Optimization Using Single Phase Commit and Promotable Single Phase Notification](http://msdn.microsoft.com/en-us/653d51d1-b4bf-4e34-9a6f-aec073f0f5bb).","needQuote":false,"needEscape":true,"extradata":"MT","nodes":[{"content":"Promotable Enlistments (PSPE) allow a resource, such as a database, to take ownership of the transaction if it is the only entity participating in the transaction.","pos":[0,163]},{"content":"Later, if needed, the &lt;xref:System.Transactions&gt; infrastructure can still escalate the transaction to MSDTC.","pos":[164,272],"source":" Later, if needed, the <xref:System.Transactions> infrastructure can still escalate the transaction to MSDTC."},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Optimization Using Single Phase Commit and Promotable Single Phase Notification<ept id=\"p1\">](http://msdn.microsoft.com/en-us/653d51d1-b4bf-4e34-9a6f-aec073f0f5bb)</ept>.","pos":[273,451],"source":" For more information, see [Optimization Using Single Phase Commit and Promotable Single Phase Notification](http://msdn.microsoft.com/en-us/653d51d1-b4bf-4e34-9a6f-aec073f0f5bb)."},{"content":"A resource manager that implements this interface delegates control of the commit of it's internal non-distributed transaction to an enlistment on a &lt;xref:System.Transactions&gt; transaction through the &lt;xref:System.Transactions.Transaction.EnlistPromotableSinglePhase%2A&gt; method on the &lt;xref:System.Transactions.Transaction&gt; class.","pos":[458,787],"source":"       A resource manager that implements this interface delegates control of the commit of it's internal non-distributed transaction to an enlistment on a <xref:System.Transactions> transaction through the <xref:System.Transactions.Transaction.EnlistPromotableSinglePhase%2A> method on the <xref:System.Transactions.Transaction> class."},{"content":"If the &lt;xref:System.Transactions.ITransactionPromoter.Promote%2A?displayProperty=fullName&gt; method is called, your implementation of this interface must produce a distributed transaction in the form of a propagation token, and return it to &lt;xref:System.Transactions&gt;.","pos":[794,1060],"source":"       If the <xref:System.Transactions.ITransactionPromoter.Promote%2A?displayProperty=fullName> method is called, your implementation of this interface must produce a distributed transaction in the form of a propagation token, and return it to <xref:System.Transactions>."},{"content":"After you enlist an object that implements this interface as a participant of a transaction using the &lt;xref:System.Transactions.Transaction.EnlistPromotableSinglePhase%2A&gt; method, the transaction manager then notifies the participant when the transaction is promoted, committed, or rolled back by invoking the &lt;xref:System.Transactions.ITransactionPromoter.Promote%2A&gt; method, the &lt;xref:System.Transactions.IPromotableSinglePhaseNotification.SinglePhaseCommit%2A&gt; method, or the &lt;xref:System.Transactions.IPromotableSinglePhaseNotification.Rollback%2A&gt; method of the object.","pos":[1067,1641],"source":"       After you enlist an object that implements this interface as a participant of a transaction using the <xref:System.Transactions.Transaction.EnlistPromotableSinglePhase%2A> method, the transaction manager then notifies the participant when the transaction is promoted, committed, or rolled back by invoking the <xref:System.Transactions.ITransactionPromoter.Promote%2A> method, the <xref:System.Transactions.IPromotableSinglePhaseNotification.SinglePhaseCommit%2A> method, or the <xref:System.Transactions.IPromotableSinglePhaseNotification.Rollback%2A> method of the object."},{"content":"For more information, see <bpt id=\"p1\">[</bpt>Optimization Using Single Phase Commit and Promotable Single Phase Notification<ept id=\"p1\">](http://msdn.microsoft.com/en-us/653d51d1-b4bf-4e34-9a6f-aec073f0f5bb)</ept>.","pos":[1648,1826],"source":"       For more information, see [Optimization Using Single Phase Commit and Promotable Single Phase Notification](http://msdn.microsoft.com/en-us/653d51d1-b4bf-4e34-9a6f-aec073f0f5bb)."}]},{"pos":[3267,3345],"content":"Notifies a transaction participant that enlistment has completed successfully.","needQuote":true,"needEscape":true,"nodes":[{"content":"Notifies a transaction participant that enlistment has completed successfully.","pos":[0,78]}]},{"pos":[3357,3653],"content":"If initialization logic is required to prepare an enlisted object to participate in a transaction, it is preferable to implement that logic in this method instead of in a constructor. In this way, the initialization occurs only if the object is successfully enlisted as a transaction participant.","needQuote":true,"needEscape":true,"extradata":"MT","nodes":[{"content":"If initialization logic is required to prepare an enlisted object to participate in a transaction, it is preferable to implement that logic in this method instead of in a constructor. In this way, the initialization occurs only if the object is successfully enlisted as a transaction participant.","pos":[0,296],"nodes":[{"content":"If initialization logic is required to prepare an enlisted object to participate in a transaction, it is preferable to implement that logic in this method instead of in a constructor.","pos":[0,183]},{"content":"In this way, the initialization occurs only if the object is successfully enlisted as a transaction participant.","pos":[184,296]}]}]},{"pos":[3942,3990],"content":"An attempt to enlist or serialize a transaction.","needQuote":true,"needEscape":true,"nodes":[{"content":"An attempt to enlist or serialize a transaction.","pos":[0,48]}]},{"pos":[4590,4660],"content":"Notifies an enlisted object that the transaction is being rolled back.","needQuote":true,"needEscape":true,"nodes":[{"content":"Notifies an enlisted object that the transaction is being rolled back.","pos":[0,70]}]},{"pos":[4672,5128],"content":"On receiving this notification, the PSPE should always rollback it's internal transaction and then reply with the <xref:System.Transactions.SinglePhaseEnlistment.Aborted%2A> callback method on the `singlePhaseEnlistment` parameter.  If the PSPE replies with  <xref:System.Transactions.SinglePhaseEnlistment.Committed%2A> or <xref:System.Transactions.SinglePhaseEnlistment.InDoubt%2A>, an <xref:System.InvalidOperationException> is thrown from the callback.","needQuote":true,"needEscape":true,"extradata":"MT","nodes":[{"content":"On receiving this notification, the PSPE should always rollback it's internal transaction and then reply with the &lt;xref:System.Transactions.SinglePhaseEnlistment.Aborted%2A&gt; callback method on the <ph id=\"ph1\">`singlePhaseEnlistment`</ph> parameter.","pos":[0,231],"source":"On receiving this notification, the PSPE should always rollback it's internal transaction and then reply with the <xref:System.Transactions.SinglePhaseEnlistment.Aborted%2A> callback method on the `singlePhaseEnlistment` parameter."},{"content":"If the PSPE replies with  &lt;xref:System.Transactions.SinglePhaseEnlistment.Committed%2A&gt; or &lt;xref:System.Transactions.SinglePhaseEnlistment.InDoubt%2A&gt;, an &lt;xref:System.InvalidOperationException&gt; is thrown from the callback.","pos":[233,456],"source":"  If the PSPE replies with  <xref:System.Transactions.SinglePhaseEnlistment.Committed%2A> or <xref:System.Transactions.SinglePhaseEnlistment.InDoubt%2A>, an <xref:System.InvalidOperationException> is thrown from the callback."}]},{"pos":[5361,5484],"content":"A <bpt id=\"p1\">&lt;xref href=\"System.Transactions.SinglePhaseEnlistment\"&gt;</bpt><ept id=\"p1\">&lt;/xref&gt;</ept> object used to send a response to the transaction manager.","needQuote":true,"needEscape":true,"source":"A <xref href=\"System.Transactions.SinglePhaseEnlistment\"></xref> object used to send a response to the transaction manager."},{"pos":[6223,6291],"content":"Notifies an enlisted object that the transaction is being committed.","needQuote":true,"needEscape":true,"nodes":[{"content":"Notifies an enlisted object that the transaction is being committed.","pos":[0,68]}]},{"pos":[6304,7079],"content":"This method notifies an enlisted object that the transaction is to be committed.       The `singlePhaseEnlistment` parameters contain callbacks that allow the implementation of this interface to notify the transaction manager of the outcome of the transaction, since the transaction manager has delegated control of the transaction. In the case of a promoted transaction, the transaction manager listens to the transaction outcome and overrides the response being sent.       On receiving this notification, the resource manager should attempt to commit it's internal transaction (or the distributed transaction if it has been escalated), and invoke one of the callback methods on the `singlePhaseEnlistment` parameter based on the outcome of committing it's transaction.","needQuote":false,"needEscape":true,"extradata":"MT","nodes":[{"content":"This method notifies an enlisted object that the transaction is to be committed.","pos":[0,80]},{"content":"The <ph id=\"ph1\">`singlePhaseEnlistment`</ph> parameters contain callbacks that allow the implementation of this interface to notify the transaction manager of the outcome of the transaction, since the transaction manager has delegated control of the transaction.","pos":[87,332],"source":"       The `singlePhaseEnlistment` parameters contain callbacks that allow the implementation of this interface to notify the transaction manager of the outcome of the transaction, since the transaction manager has delegated control of the transaction."},{"content":"In the case of a promoted transaction, the transaction manager listens to the transaction outcome and overrides the response being sent.","pos":[333,469]},{"content":"On receiving this notification, the resource manager should attempt to commit it's internal transaction (or the distributed transaction if it has been escalated), and invoke one of the callback methods on the <ph id=\"ph1\">`singlePhaseEnlistment`</ph> parameter based on the outcome of committing it's transaction.","pos":[476,771],"source":"       On receiving this notification, the resource manager should attempt to commit it's internal transaction (or the distributed transaction if it has been escalated), and invoke one of the callback methods on the `singlePhaseEnlistment` parameter based on the outcome of committing it's transaction."}]},{"pos":[7322,7448],"content":"A <bpt id=\"p1\">&lt;xref href=\"System.Transactions.SinglePhaseEnlistment\"&gt;</bpt><ept id=\"p1\">&lt;/xref&gt;</ept> interface used to send a response to the transaction manager.","needQuote":true,"needEscape":true,"source":"A <xref href=\"System.Transactions.SinglePhaseEnlistment\"></xref> interface used to send a response to the transaction manager."}],"content":"### YamlMime:ManagedReference\nitems:\n- uid: System.Transactions.IPromotableSinglePhaseNotification\n  id: IPromotableSinglePhaseNotification\n  children:\n  - System.Transactions.IPromotableSinglePhaseNotification.Initialize\n  - System.Transactions.IPromotableSinglePhaseNotification.Rollback(System.Transactions.SinglePhaseEnlistment)\n  - System.Transactions.IPromotableSinglePhaseNotification.SinglePhaseCommit(System.Transactions.SinglePhaseEnlistment)\n  langs:\n  - csharp\n  name: IPromotableSinglePhaseNotification\n  nameWithType: IPromotableSinglePhaseNotification\n  fullName: System.Transactions.IPromotableSinglePhaseNotification\n  type: Interface\n  summary: Describes an object that acts as a commit delegate for a non-distributed transaction internal to a resource manager.\n  remarks: \"Promotable Enlistments (PSPE) allow a resource, such as a database, to take ownership of the transaction if it is the only entity participating in the transaction. Later, if needed, the <xref:System.Transactions> infrastructure can still escalate the transaction to MSDTC. For more information, see [Optimization Using Single Phase Commit and Promotable Single Phase Notification](http://msdn.microsoft.com/en-us/653d51d1-b4bf-4e34-9a6f-aec073f0f5bb).  \\n  \\n A resource manager that implements this interface delegates control of the commit of it's internal non-distributed transaction to an enlistment on a <xref:System.Transactions> transaction through the <xref:System.Transactions.Transaction.EnlistPromotableSinglePhase%2A> method on the <xref:System.Transactions.Transaction> class.  \\n  \\n If the <xref:System.Transactions.ITransactionPromoter.Promote%2A?displayProperty=fullName> method is called, your implementation of this interface must produce a distributed transaction in the form of a propagation token, and return it to <xref:System.Transactions>.  \\n  \\n After you enlist an object that implements this interface as a participant of a transaction using the <xref:System.Transactions.Transaction.EnlistPromotableSinglePhase%2A> method, the transaction manager then notifies the participant when the transaction is promoted, committed, or rolled back by invoking the <xref:System.Transactions.ITransactionPromoter.Promote%2A> method, the <xref:System.Transactions.IPromotableSinglePhaseNotification.SinglePhaseCommit%2A> method, or the <xref:System.Transactions.IPromotableSinglePhaseNotification.Rollback%2A> method of the object.  \\n  \\n For more information, see [Optimization Using Single Phase Commit and Promotable Single Phase Notification](http://msdn.microsoft.com/en-us/653d51d1-b4bf-4e34-9a6f-aec073f0f5bb).\"\n  syntax:\n    content: 'public interface IPromotableSinglePhaseNotification : System.Transactions.ITransactionPromoter'\n  implements:\n  - System.Transactions.ITransactionPromoter\n  platform:\n  - net462\n- uid: System.Transactions.IPromotableSinglePhaseNotification.Initialize\n  id: Initialize\n  parent: System.Transactions.IPromotableSinglePhaseNotification\n  langs:\n  - csharp\n  name: Initialize()\n  nameWithType: IPromotableSinglePhaseNotification.Initialize()\n  fullName: System.Transactions.IPromotableSinglePhaseNotification.Initialize()\n  type: Method\n  assemblies:\n  - System.Transactions\n  namespace: System.Transactions\n  summary: Notifies a transaction participant that enlistment has completed successfully.\n  remarks: If initialization logic is required to prepare an enlisted object to participate in a transaction, it is preferable to implement that logic in this method instead of in a constructor. In this way, the initialization occurs only if the object is successfully enlisted as a transaction participant.\n  syntax:\n    content: public void Initialize ();\n    parameters: []\n  overload: System.Transactions.IPromotableSinglePhaseNotification.Initialize*\n  exceptions:\n  - type: System.Transactions.TransactionException\n    commentId: T:System.Transactions.TransactionException\n    description: An attempt to enlist or serialize a transaction.\n  platform:\n  - net462\n- uid: System.Transactions.IPromotableSinglePhaseNotification.Rollback(System.Transactions.SinglePhaseEnlistment)\n  id: Rollback(System.Transactions.SinglePhaseEnlistment)\n  parent: System.Transactions.IPromotableSinglePhaseNotification\n  langs:\n  - csharp\n  name: Rollback(SinglePhaseEnlistment)\n  nameWithType: IPromotableSinglePhaseNotification.Rollback(SinglePhaseEnlistment)\n  fullName: System.Transactions.IPromotableSinglePhaseNotification.Rollback(SinglePhaseEnlistment)\n  type: Method\n  assemblies:\n  - System.Transactions\n  namespace: System.Transactions\n  summary: Notifies an enlisted object that the transaction is being rolled back.\n  remarks: On receiving this notification, the PSPE should always rollback it's internal transaction and then reply with the <xref:System.Transactions.SinglePhaseEnlistment.Aborted%2A> callback method on the `singlePhaseEnlistment` parameter.  If the PSPE replies with  <xref:System.Transactions.SinglePhaseEnlistment.Committed%2A> or <xref:System.Transactions.SinglePhaseEnlistment.InDoubt%2A>, an <xref:System.InvalidOperationException> is thrown from the callback.\n  syntax:\n    content: public void Rollback (System.Transactions.SinglePhaseEnlistment singlePhaseEnlistment);\n    parameters:\n    - id: singlePhaseEnlistment\n      type: System.Transactions.SinglePhaseEnlistment\n      description: A <xref href=\"System.Transactions.SinglePhaseEnlistment\"></xref> object used to send a response to the transaction manager.\n  overload: System.Transactions.IPromotableSinglePhaseNotification.Rollback*\n  exceptions: []\n  platform:\n  - net462\n- uid: System.Transactions.IPromotableSinglePhaseNotification.SinglePhaseCommit(System.Transactions.SinglePhaseEnlistment)\n  id: SinglePhaseCommit(System.Transactions.SinglePhaseEnlistment)\n  parent: System.Transactions.IPromotableSinglePhaseNotification\n  langs:\n  - csharp\n  name: SinglePhaseCommit(SinglePhaseEnlistment)\n  nameWithType: IPromotableSinglePhaseNotification.SinglePhaseCommit(SinglePhaseEnlistment)\n  fullName: System.Transactions.IPromotableSinglePhaseNotification.SinglePhaseCommit(SinglePhaseEnlistment)\n  type: Method\n  assemblies:\n  - System.Transactions\n  namespace: System.Transactions\n  summary: Notifies an enlisted object that the transaction is being committed.\n  remarks: \"This method notifies an enlisted object that the transaction is to be committed.  \\n  \\n The `singlePhaseEnlistment` parameters contain callbacks that allow the implementation of this interface to notify the transaction manager of the outcome of the transaction, since the transaction manager has delegated control of the transaction. In the case of a promoted transaction, the transaction manager listens to the transaction outcome and overrides the response being sent.  \\n  \\n On receiving this notification, the resource manager should attempt to commit it's internal transaction (or the distributed transaction if it has been escalated), and invoke one of the callback methods on the `singlePhaseEnlistment` parameter based on the outcome of committing it's transaction.\"\n  syntax:\n    content: public void SinglePhaseCommit (System.Transactions.SinglePhaseEnlistment singlePhaseEnlistment);\n    parameters:\n    - id: singlePhaseEnlistment\n      type: System.Transactions.SinglePhaseEnlistment\n      description: A <xref href=\"System.Transactions.SinglePhaseEnlistment\"></xref> interface used to send a response to the transaction manager.\n  overload: System.Transactions.IPromotableSinglePhaseNotification.SinglePhaseCommit*\n  exceptions: []\n  platform:\n  - net462\nreferences:\n- uid: System.Transactions.TransactionException\n  parent: System.Transactions\n  isExternal: false\n  name: TransactionException\n  nameWithType: TransactionException\n  fullName: System.Transactions.TransactionException\n- uid: System.Transactions.IPromotableSinglePhaseNotification.Initialize\n  parent: System.Transactions.IPromotableSinglePhaseNotification\n  isExternal: false\n  name: Initialize()\n  nameWithType: IPromotableSinglePhaseNotification.Initialize()\n  fullName: System.Transactions.IPromotableSinglePhaseNotification.Initialize()\n- uid: System.Transactions.IPromotableSinglePhaseNotification.Rollback(System.Transactions.SinglePhaseEnlistment)\n  parent: System.Transactions.IPromotableSinglePhaseNotification\n  isExternal: false\n  name: Rollback(SinglePhaseEnlistment)\n  nameWithType: IPromotableSinglePhaseNotification.Rollback(SinglePhaseEnlistment)\n  fullName: System.Transactions.IPromotableSinglePhaseNotification.Rollback(SinglePhaseEnlistment)\n- uid: System.Transactions.SinglePhaseEnlistment\n  parent: System.Transactions\n  isExternal: false\n  name: SinglePhaseEnlistment\n  nameWithType: SinglePhaseEnlistment\n  fullName: System.Transactions.SinglePhaseEnlistment\n- uid: System.Transactions.IPromotableSinglePhaseNotification.SinglePhaseCommit(System.Transactions.SinglePhaseEnlistment)\n  parent: System.Transactions.IPromotableSinglePhaseNotification\n  isExternal: false\n  name: SinglePhaseCommit(SinglePhaseEnlistment)\n  nameWithType: IPromotableSinglePhaseNotification.SinglePhaseCommit(SinglePhaseEnlistment)\n  fullName: System.Transactions.IPromotableSinglePhaseNotification.SinglePhaseCommit(SinglePhaseEnlistment)\n- uid: System.Transactions.IPromotableSinglePhaseNotification.Initialize*\n  parent: System.Transactions.IPromotableSinglePhaseNotification\n  isExternal: false\n  name: Initialize\n  nameWithType: IPromotableSinglePhaseNotification.Initialize\n- uid: System.Transactions.IPromotableSinglePhaseNotification.Rollback*\n  parent: System.Transactions.IPromotableSinglePhaseNotification\n  isExternal: false\n  name: Rollback\n  nameWithType: IPromotableSinglePhaseNotification.Rollback\n- uid: System.Transactions.IPromotableSinglePhaseNotification.SinglePhaseCommit*\n  parent: System.Transactions.IPromotableSinglePhaseNotification\n  isExternal: false\n  name: SinglePhaseCommit\n  nameWithType: IPromotableSinglePhaseNotification.SinglePhaseCommit\n"}