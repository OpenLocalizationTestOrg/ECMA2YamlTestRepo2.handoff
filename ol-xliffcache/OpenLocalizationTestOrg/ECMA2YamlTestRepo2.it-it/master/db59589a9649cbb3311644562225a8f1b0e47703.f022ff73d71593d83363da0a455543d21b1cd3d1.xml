{"nodes":[{"pos":[604,682],"content":"Provides the base functionality for ASP.NET view state persistence mechanisms.","needQuote":true,"needEscape":true,"nodes":[{"content":"Provides the base functionality for ASP.NET view state persistence mechanisms.","pos":[0,78]}]},{"pos":[695,5180],"content":"The HTTP requests and responses are inherently stateless. To maintain state information between HTTP requests, ASP.NET server pages can store <xref:System.Web.UI.Page> state. This state, called view state, consists of page and control settings and data that make the page and controls appear as if they are the same ones that the user saw and interacted with on their last round trip to the server. Several mechanisms exist to store view state between successive requests to the same page. The abstract PageStatePersister class represents the base class for these state information storage mechanisms.       The default view state persistence mechanism in ASP.NET is to maintain the state information as a Base64-encoded string in a hidden HTML element (an element with the `type` attribute set to `\"hidden\"`) on the page. An ASP.NET page uses a <xref:System.Web.UI.HiddenFieldPageStatePersister> object to perform this work, using an <xref:System.Web.UI.IStateFormatter> instance to serialize and deserialize object state information. Alternately, you can store the view state for your pages in the <xref:System.Web.HttpContext.Session%2A> object on the server using the <xref:System.Web.UI.SessionPageStatePersister> class for mobile clients with limited bandwidth and resources. In some cases, you might disable view state persistence altogether. If you do this, the result is that sometimes pages and controls that rely on state persistence do not behave correctly. For more information about page state management and view state, see [ASP.NET State Management Overview](~/add/includes/ajax-current-ext-md.md).       If you are writing controls, you can store state information for the controls in the <xref:System.Web.UI.Control.ViewState%2A> dictionary, which is a <xref:System.Web.UI.StateBag> object. A developer would retrieve the control state through the <xref:System.Web.UI.PageStatePersister.ControlState%2A> property. You assign keys and values to the <xref:System.Web.UI.Control.ViewState%2A> property, and the <xref:System.Web.UI.Page> object serializes the state information between requests. To perform custom state handling in your control, override the <xref:System.Web.UI.Control.LoadViewState%2A> and <xref:System.Web.UI.Control.SaveViewState%2A> methods. Any state information that is stored in this dictionary is lost when view state is disabled by a page developer. To mitigate this, in ASP.NET version 2.0 you can store critical state information in a separate object, called control state. The control state object is not affected when view state is disabled by a page developer. Storing state information in the control state object requires that the control override the <xref:System.Web.UI.Control.LoadControlState%2A> and <xref:System.Web.UI.Control.SaveControlState%2A> methods and that the control be registered to store state information in control state every time the control is initialized. You can register a control to use control state by overriding the <xref:System.Web.UI.Control.OnInit%2A> method and calling the <xref:System.Web.UI.Page.RegisterRequiresControlState%2A> method. For more information about using the <xref:System.Web.UI.Control.ViewState%2A> property and control state when developing controls, see [Developing Custom ASP.NET Server Controls](~/add/includes/ajax-current-ext-md.md).       To maintain view state on clients that cannot support the existing view state persistence mechanisms, you can extend the PageStatePersister class to introduce your own view state persistence methods, and you can use page adapters to configure your ASP.NET application to use different view state persistence mechanisms based on the type of client to which a page is served. Classes that derive from the PageStatePersister class must override the abstract <xref:System.Web.UI.PageStatePersister.Save%2A> method to store view state and control state in the persistence medium, and override the <xref:System.Web.UI.PageStatePersister.Load%2A> method to extract it. If you need to serialize view state and control state to a string, you can use the <xref:System.Web.UI.IStateFormatter> object that is accessed using the <xref:System.Web.UI.PageStatePersister.StateFormatter%2A> property. It efficiently serializes and deserializes object state information to a Base64-encoded string. You can also override the <xref:System.Web.UI.PageStatePersister.StateFormatter%2A> property to supply your own object state serialization mechanism.","needQuote":false,"needEscape":true,"extradata":"MT","nodes":[{"content":"The HTTP requests and responses are inherently stateless.","pos":[0,57]},{"content":"To maintain state information between HTTP requests, ASP.NET server pages can store &lt;xref:System.Web.UI.Page&gt; state.","pos":[58,174],"source":" To maintain state information between HTTP requests, ASP.NET server pages can store <xref:System.Web.UI.Page> state."},{"content":"This state, called view state, consists of page and control settings and data that make the page and controls appear as if they are the same ones that the user saw and interacted with on their last round trip to the server.","pos":[175,398]},{"content":"Several mechanisms exist to store view state between successive requests to the same page.","pos":[399,489]},{"content":"The abstract PageStatePersister class represents the base class for these state information storage mechanisms.","pos":[490,601]},{"content":"The default view state persistence mechanism in ASP.NET is to maintain the state information as a Base64-encoded string in a hidden HTML element (an element with the <ph id=\"ph1\">`type`</ph> attribute set to <ph id=\"ph2\">`\"hidden\"`</ph>) on the page.","pos":[608,822],"source":"       The default view state persistence mechanism in ASP.NET is to maintain the state information as a Base64-encoded string in a hidden HTML element (an element with the `type` attribute set to `\"hidden\"`) on the page."},{"content":"An ASP.NET page uses a &lt;xref:System.Web.UI.HiddenFieldPageStatePersister&gt; object to perform this work, using an &lt;xref:System.Web.UI.IStateFormatter&gt; instance to serialize and deserialize object state information.","pos":[823,1035],"source":" An ASP.NET page uses a <xref:System.Web.UI.HiddenFieldPageStatePersister> object to perform this work, using an <xref:System.Web.UI.IStateFormatter> instance to serialize and deserialize object state information."},{"content":"Alternately, you can store the view state for your pages in the &lt;xref:System.Web.HttpContext.Session%2A&gt; object on the server using the &lt;xref:System.Web.UI.SessionPageStatePersister&gt; class for mobile clients with limited bandwidth and resources.","pos":[1036,1281],"source":" Alternately, you can store the view state for your pages in the <xref:System.Web.HttpContext.Session%2A> object on the server using the <xref:System.Web.UI.SessionPageStatePersister> class for mobile clients with limited bandwidth and resources."},{"content":"In some cases, you might disable view state persistence altogether.","pos":[1282,1349]},{"content":"If you do this, the result is that sometimes pages and controls that rely on state persistence do not behave correctly.","pos":[1350,1469]},{"content":"For more information about page state management and view state, see <bpt id=\"p1\">[</bpt>ASP.NET State Management Overview<ept id=\"p1\">](~/add/includes/ajax-current-ext-md.md)</ept>.","pos":[1470,1614],"source":" For more information about page state management and view state, see [ASP.NET State Management Overview](~/add/includes/ajax-current-ext-md.md)."},{"content":"If you are writing controls, you can store state information for the controls in the &lt;xref:System.Web.UI.Control.ViewState%2A&gt; dictionary, which is a &lt;xref:System.Web.UI.StateBag&gt; object.","pos":[1621,1808],"source":"       If you are writing controls, you can store state information for the controls in the <xref:System.Web.UI.Control.ViewState%2A> dictionary, which is a <xref:System.Web.UI.StateBag> object."},{"content":"A developer would retrieve the control state through the &lt;xref:System.Web.UI.PageStatePersister.ControlState%2A&gt; property.","pos":[1809,1931],"source":" A developer would retrieve the control state through the <xref:System.Web.UI.PageStatePersister.ControlState%2A> property."},{"content":"You assign keys and values to the &lt;xref:System.Web.UI.Control.ViewState%2A&gt; property, and the &lt;xref:System.Web.UI.Page&gt; object serializes the state information between requests.","pos":[1932,2109],"source":" You assign keys and values to the <xref:System.Web.UI.Control.ViewState%2A> property, and the <xref:System.Web.UI.Page> object serializes the state information between requests."},{"content":"To perform custom state handling in your control, override the &lt;xref:System.Web.UI.Control.LoadViewState%2A&gt; and &lt;xref:System.Web.UI.Control.SaveViewState%2A&gt; methods.","pos":[2110,2277],"source":" To perform custom state handling in your control, override the <xref:System.Web.UI.Control.LoadViewState%2A> and <xref:System.Web.UI.Control.SaveViewState%2A> methods."},{"content":"Any state information that is stored in this dictionary is lost when view state is disabled by a page developer.","pos":[2278,2390]},{"content":"To mitigate this, in ASP.NET version 2.0 you can store critical state information in a separate object, called control state.","pos":[2391,2516]},{"content":"The control state object is not affected when view state is disabled by a page developer.","pos":[2517,2606]},{"content":"Storing state information in the control state object requires that the control override the &lt;xref:System.Web.UI.Control.LoadControlState%2A&gt; and &lt;xref:System.Web.UI.Control.SaveControlState%2A&gt; methods and that the control be registered to store state information in control state every time the control is initialized.","pos":[2607,2927],"source":" Storing state information in the control state object requires that the control override the <xref:System.Web.UI.Control.LoadControlState%2A> and <xref:System.Web.UI.Control.SaveControlState%2A> methods and that the control be registered to store state information in control state every time the control is initialized."},{"content":"You can register a control to use control state by overriding the &lt;xref:System.Web.UI.Control.OnInit%2A&gt; method and calling the &lt;xref:System.Web.UI.Page.RegisterRequiresControlState%2A&gt; method.","pos":[2928,3121],"source":" You can register a control to use control state by overriding the <xref:System.Web.UI.Control.OnInit%2A> method and calling the <xref:System.Web.UI.Page.RegisterRequiresControlState%2A> method."},{"content":"For more information about using the &lt;xref:System.Web.UI.Control.ViewState%2A&gt; property and control state when developing controls, see <bpt id=\"p1\">[</bpt>Developing Custom ASP.NET Server Controls<ept id=\"p1\">](~/add/includes/ajax-current-ext-md.md)</ept>.","pos":[3122,3341],"source":" For more information about using the <xref:System.Web.UI.Control.ViewState%2A> property and control state when developing controls, see [Developing Custom ASP.NET Server Controls](~/add/includes/ajax-current-ext-md.md)."},{"content":"To maintain view state on clients that cannot support the existing view state persistence mechanisms, you can extend the PageStatePersister class to introduce your own view state persistence methods, and you can use page adapters to configure your ASP.NET application to use different view state persistence mechanisms based on the type of client to which a page is served.","pos":[3348,3721]},{"content":"Classes that derive from the PageStatePersister class must override the abstract &lt;xref:System.Web.UI.PageStatePersister.Save%2A&gt; method to store view state and control state in the persistence medium, and override the &lt;xref:System.Web.UI.PageStatePersister.Load%2A&gt; method to extract it.","pos":[3722,4009],"source":" Classes that derive from the PageStatePersister class must override the abstract <xref:System.Web.UI.PageStatePersister.Save%2A> method to store view state and control state in the persistence medium, and override the <xref:System.Web.UI.PageStatePersister.Load%2A> method to extract it."},{"content":"If you need to serialize view state and control state to a string, you can use the &lt;xref:System.Web.UI.IStateFormatter&gt; object that is accessed using the &lt;xref:System.Web.UI.PageStatePersister.StateFormatter%2A&gt; property.","pos":[4010,4231],"source":" If you need to serialize view state and control state to a string, you can use the <xref:System.Web.UI.IStateFormatter> object that is accessed using the <xref:System.Web.UI.PageStatePersister.StateFormatter%2A> property."},{"content":"It efficiently serializes and deserializes object state information to a Base64-encoded string.","pos":[4232,4327]},{"content":"You can also override the &lt;xref:System.Web.UI.PageStatePersister.StateFormatter%2A&gt; property to supply your own object state serialization mechanism.","pos":[4328,4477],"source":" You can also override the <xref:System.Web.UI.PageStatePersister.StateFormatter%2A> property to supply your own object state serialization mechanism."}]},{"pos":[8560,8654],"content":"Initializes a new instance of the <bpt id=\"p1\">&lt;xref href=\"System.Web.UI.PageStatePersister\"&gt;</bpt><ept id=\"p1\">&lt;/xref&gt;</ept> class.","needQuote":true,"needEscape":true,"source":"Initializes a new instance of the <xref href=\"System.Web.UI.PageStatePersister\"></xref> class."},{"pos":[8815,8916],"content":"The <bpt id=\"p1\">&lt;xref href=\"System.Web.UI.Page\"&gt;</bpt><ept id=\"p1\">&lt;/xref&gt;</ept> that the view state persistence mechanism is created for.","needQuote":true,"needEscape":true,"source":"The <xref href=\"System.Web.UI.Page\"></xref> that the view state persistence mechanism is created for."},{"pos":[9085,9181],"content":"The <bpt id=\"p1\">&lt;code&gt;</bpt><ph id=\"ph1\">page</ph><ept id=\"p1\">&lt;/code&gt;</ept> parameter is <bpt id=\"p2\">&lt;xref uid=\"langword_csharp_null\" name=\"null\" href=\"\"&gt;</bpt><ept id=\"p2\">&lt;/xref&gt;</ept>.","needQuote":true,"needEscape":true,"source":"The <code>page</code> parameter is <xref uid=\"langword_csharp_null\" name=\"null\" href=\"\"></xref>."},{"pos":[9551,9739],"content":"Gets or sets an object that represents the data that controls contained by the current <bpt id=\"p1\">&lt;xref href=\"System.Web.UI.Page\"&gt;</bpt><ept id=\"p1\">&lt;/xref&gt;</ept> object use to persist across HTTP requests to the Web server.","needQuote":true,"needEscape":true,"source":"Gets or sets an object that represents the data that controls contained by the current <xref href=\"System.Web.UI.Page\"></xref> object use to persist across HTTP requests to the Web server."},{"pos":[9751,10300],"content":"Control state is an object comprised of critical view state data that Web server controls need to function, and is contained in a separate object from normal view state information. Control state data is not affected when view state is disabled at the <xref:System.Web.UI.Page> level, but requires extra implementation steps to use. For more information on using the <xref:System.Web.UI.Control.ViewState%2A> property and control state when developing controls, see [Developing Custom ASP.NET Server Controls](~/add/includes/ajax-current-ext-md.md).","needQuote":true,"needEscape":true,"extradata":"MT","nodes":[{"content":"Control state is an object comprised of critical view state data that Web server controls need to function, and is contained in a separate object from normal view state information.","pos":[0,181]},{"content":"Control state data is not affected when view state is disabled at the &lt;xref:System.Web.UI.Page&gt; level, but requires extra implementation steps to use.","pos":[182,332],"source":" Control state data is not affected when view state is disabled at the <xref:System.Web.UI.Page> level, but requires extra implementation steps to use."},{"content":"For more information on using the &lt;xref:System.Web.UI.Control.ViewState%2A&gt; property and control state when developing controls, see <bpt id=\"p1\">[</bpt>Developing Custom ASP.NET Server Controls<ept id=\"p1\">](~/add/includes/ajax-current-ext-md.md)</ept>.","pos":[333,549],"source":" For more information on using the <xref:System.Web.UI.Control.ViewState%2A> property and control state when developing controls, see [Developing Custom ASP.NET Server Controls](~/add/includes/ajax-current-ext-md.md)."}]},{"pos":[11520,11560],"content":"An object that contains view state data.","needQuote":true,"needEscape":true,"nodes":[{"content":"An object that contains view state data.","pos":[0,40]}]},{"pos":[11970,12140],"content":"Overridden by derived classes to deserialize and load persisted state information when a <bpt id=\"p1\">&lt;xref href=\"System.Web.UI.Page\"&gt;</bpt><ept id=\"p1\">&lt;/xref&gt;</ept> object initializes its control hierarchy.","needQuote":true,"needEscape":true,"source":"Overridden by derived classes to deserialize and load persisted state information when a <xref href=\"System.Web.UI.Page\"></xref> object initializes its control hierarchy."},{"pos":[12152,12422],"content":"Classes that derive from the <xref:System.Web.UI.PageStatePersister> class implement the Load method to initialize the <xref:System.Web.UI.PageStatePersister.ViewState%2A> and <xref:System.Web.UI.PageStatePersister.ControlState%2A> properties from some persisted format.","needQuote":true,"needEscape":true,"extradata":"MT","nodes":[{"content":"Classes that derive from the &lt;xref:System.Web.UI.PageStatePersister&gt; class implement the Load method to initialize the &lt;xref:System.Web.UI.PageStatePersister.ViewState%2A&gt; and &lt;xref:System.Web.UI.PageStatePersister.ControlState%2A&gt; properties from some persisted format.","pos":[0,270],"source":"Classes that derive from the <xref:System.Web.UI.PageStatePersister> class implement the Load method to initialize the <xref:System.Web.UI.PageStatePersister.ViewState%2A> and <xref:System.Web.UI.PageStatePersister.ControlState%2A> properties from some persisted format."}]},{"pos":[13824,13945],"content":"Gets or sets the <bpt id=\"p1\">&lt;xref href=\"System.Web.UI.Page\"&gt;</bpt><ept id=\"p1\">&lt;/xref&gt;</ept> object that the view state persistence mechanism is created for.","needQuote":true,"needEscape":true,"source":"Gets or sets the <xref href=\"System.Web.UI.Page\"></xref> object that the view state persistence mechanism is created for."},{"pos":[13957,14046],"content":"You can use the Page property to access the current <xref:System.Web.HttpContext> object.","needQuote":true,"needEscape":true,"extradata":"MT","nodes":[{"content":"You can use the Page property to access the current &lt;xref:System.Web.HttpContext&gt; object.","pos":[0,89],"source":"You can use the Page property to access the current <xref:System.Web.HttpContext> object."}]},{"pos":[14180,14306],"content":"The <bpt id=\"p1\">&lt;xref href=\"System.Web.UI.Page\"&gt;</bpt><ept id=\"p1\">&lt;/xref&gt;</ept> that the <bpt id=\"p2\">&lt;xref href=\"System.Web.UI.PageStatePersister\"&gt;</bpt><ept id=\"p2\">&lt;/xref&gt;</ept> is associated with.","needQuote":true,"needEscape":true,"source":"The <xref href=\"System.Web.UI.Page\"></xref> that the <xref href=\"System.Web.UI.PageStatePersister\"></xref> is associated with."},{"pos":[14708,14857],"content":"Overridden by derived classes to serialize persisted state information when a <bpt id=\"p1\">&lt;xref href=\"System.Web.UI.Page\"&gt;</bpt><ept id=\"p1\">&lt;/xref&gt;</ept> object is unloaded from memory.","needQuote":true,"needEscape":true,"source":"Overridden by derived classes to serialize persisted state information when a <xref href=\"System.Web.UI.Page\"></xref> object is unloaded from memory."},{"pos":[14869,15149],"content":"Classes that derive from the <xref:System.Web.UI.PageStatePersister> class implement the Save method to persist the contents of the <xref:System.Web.UI.PageStatePersister.ViewState%2A> and <xref:System.Web.UI.PageStatePersister.ControlState%2A> properties to a persistence medium.","needQuote":true,"needEscape":true,"extradata":"MT","nodes":[{"content":"Classes that derive from the &lt;xref:System.Web.UI.PageStatePersister&gt; class implement the Save method to persist the contents of the &lt;xref:System.Web.UI.PageStatePersister.ViewState%2A&gt; and &lt;xref:System.Web.UI.PageStatePersister.ControlState%2A&gt; properties to a persistence medium.","pos":[0,280],"source":"Classes that derive from the <xref:System.Web.UI.PageStatePersister> class implement the Save method to persist the contents of the <xref:System.Web.UI.PageStatePersister.ViewState%2A> and <xref:System.Web.UI.PageStatePersister.ControlState%2A> properties to a persistence medium."}]},{"pos":[16499,16890],"content":"Gets an <bpt id=\"p1\">&lt;xref href=\"System.Web.UI.IStateFormatter\"&gt;</bpt><ept id=\"p1\">&lt;/xref&gt;</ept> object that is used to serialize and deserialize the state information contained in the &lt;xref:System.Web.UI.PageStatePersister.ViewState<bpt id=\"p2\">*</bpt>&gt; and &lt;xref:System.Web.UI.PageStatePersister.ControlState<ept id=\"p2\">*</ept>&gt; properties during calls to the &lt;xref:System.Web.UI.PageStatePersister.Save<bpt id=\"p3\">*</bpt>&gt; and &lt;xref:System.Web.UI.PageStatePersister.Load<ept id=\"p3\">*</ept>&gt; methods.","needQuote":true,"needEscape":true,"source":"Gets an <xref href=\"System.Web.UI.IStateFormatter\"></xref> object that is used to serialize and deserialize the state information contained in the <xref:System.Web.UI.PageStatePersister.ViewState*> and <xref:System.Web.UI.PageStatePersister.ControlState*> properties during calls to the <xref:System.Web.UI.PageStatePersister.Save*> and <xref:System.Web.UI.PageStatePersister.Load*> methods."},{"pos":[16902,16988],"content":"You can override the StateFormatter property to provide your own view state formatter.","needQuote":true,"needEscape":true,"extradata":"MT","nodes":[{"content":"You can override the StateFormatter property to provide your own view state formatter.","pos":[0,86]}]},{"pos":[17905,18026],"content":"An instance of <bpt id=\"p1\">&lt;xref href=\"System.Web.UI.IStateFormatter\"&gt;</bpt><ept id=\"p1\">&lt;/xref&gt;</ept> that is used to serialize and deserialize object state.","needQuote":true,"needEscape":true,"source":"An instance of <xref href=\"System.Web.UI.IStateFormatter\"></xref> that is used to serialize and deserialize object state."},{"pos":[18459,18647],"content":"Gets or sets an object that represents the data that controls contained by the current <bpt id=\"p1\">&lt;xref href=\"System.Web.UI.Page\"&gt;</bpt><ept id=\"p1\">&lt;/xref&gt;</ept> object use to persist across HTTP requests to the Web server.","needQuote":true,"needEscape":true,"source":"Gets or sets an object that represents the data that controls contained by the current <xref href=\"System.Web.UI.Page\"></xref> object use to persist across HTTP requests to the Web server."},{"pos":[18659,19251],"content":"View state is a dictionary of state data that Web server controls need to function and render themselves. Control developers typically access the view state object using the <xref:System.Web.UI.Control.ViewState%2A> property. View state is affected when view state is disabled at the <xref:System.Web.UI.Page> level, and as a result controls might not behave correctly in these scenarios. For more information on using <xref:System.Web.UI.Control.ViewState%2A> and control state when developing controls, see [Developing Custom ASP.NET Server Controls](~/add/includes/ajax-current-ext-md.md).","needQuote":true,"needEscape":true,"extradata":"MT","nodes":[{"content":"View state is a dictionary of state data that Web server controls need to function and render themselves.","pos":[0,105]},{"content":"Control developers typically access the view state object using the &lt;xref:System.Web.UI.Control.ViewState%2A&gt; property.","pos":[106,225],"source":" Control developers typically access the view state object using the <xref:System.Web.UI.Control.ViewState%2A> property."},{"content":"View state is affected when view state is disabled at the &lt;xref:System.Web.UI.Page&gt; level, and as a result controls might not behave correctly in these scenarios.","pos":[226,388],"source":" View state is affected when view state is disabled at the <xref:System.Web.UI.Page> level, and as a result controls might not behave correctly in these scenarios."},{"content":"For more information on using &lt;xref:System.Web.UI.Control.ViewState%2A&gt; and control state when developing controls, see <bpt id=\"p1\">[</bpt>Developing Custom ASP.NET Server Controls<ept id=\"p1\">](~/add/includes/ajax-current-ext-md.md)</ept>.","pos":[389,592],"source":" For more information on using <xref:System.Web.UI.Control.ViewState%2A> and control state when developing controls, see [Developing Custom ASP.NET Server Controls](~/add/includes/ajax-current-ext-md.md)."}]},{"pos":[20520,20560],"content":"An object that contains view state data.","needQuote":true,"needEscape":true,"nodes":[{"content":"An object that contains view state data.","pos":[0,40]}]}],"content":"### YamlMime:ManagedReference\nitems:\n- uid: System.Web.UI.PageStatePersister\n  id: PageStatePersister\n  children:\n  - System.Web.UI.PageStatePersister.#ctor(System.Web.UI.Page)\n  - System.Web.UI.PageStatePersister.ControlState\n  - System.Web.UI.PageStatePersister.Load\n  - System.Web.UI.PageStatePersister.Page\n  - System.Web.UI.PageStatePersister.Save\n  - System.Web.UI.PageStatePersister.StateFormatter\n  - System.Web.UI.PageStatePersister.ViewState\n  langs:\n  - csharp\n  name: PageStatePersister\n  nameWithType: PageStatePersister\n  fullName: System.Web.UI.PageStatePersister\n  type: Class\n  summary: Provides the base functionality for ASP.NET view state persistence mechanisms.\n  remarks: \"The HTTP requests and responses are inherently stateless. To maintain state information between HTTP requests, ASP.NET server pages can store <xref:System.Web.UI.Page> state. This state, called view state, consists of page and control settings and data that make the page and controls appear as if they are the same ones that the user saw and interacted with on their last round trip to the server. Several mechanisms exist to store view state between successive requests to the same page. The abstract PageStatePersister class represents the base class for these state information storage mechanisms.  \\n  \\n The default view state persistence mechanism in ASP.NET is to maintain the state information as a Base64-encoded string in a hidden HTML element (an element with the `type` attribute set to `\\\"hidden\\\"`) on the page. An ASP.NET page uses a <xref:System.Web.UI.HiddenFieldPageStatePersister> object to perform this work, using an <xref:System.Web.UI.IStateFormatter> instance to serialize and deserialize object state information. Alternately, you can store the view state for your pages in the <xref:System.Web.HttpContext.Session%2A> object on the server using the <xref:System.Web.UI.SessionPageStatePersister> class for mobile clients with limited bandwidth and resources. In some cases, you might disable view state persistence altogether. If you do this, the result is that sometimes pages and controls that rely on state persistence do not behave correctly. For more information about page state management and view state, see [ASP.NET State Management Overview](~/add/includes/ajax-current-ext-md.md).  \\n  \\n If you are writing controls, you can store state information for the controls in the <xref:System.Web.UI.Control.ViewState%2A> dictionary, which is a <xref:System.Web.UI.StateBag> object. A developer would retrieve the control state through the <xref:System.Web.UI.PageStatePersister.ControlState%2A> property. You assign keys and values to the <xref:System.Web.UI.Control.ViewState%2A> property, and the <xref:System.Web.UI.Page> object serializes the state information between requests. To perform custom state handling in your control, override the <xref:System.Web.UI.Control.LoadViewState%2A> and <xref:System.Web.UI.Control.SaveViewState%2A> methods. Any state information that is stored in this dictionary is lost when view state is disabled by a page developer. To mitigate this, in ASP.NET version 2.0 you can store critical state information in a separate object, called control state. The control state object is not affected when view state is disabled by a page developer. Storing state information in the control state object requires that the control override the <xref:System.Web.UI.Control.LoadControlState%2A> and <xref:System.Web.UI.Control.SaveControlState%2A> methods and that the control be registered to store state information in control state every time the control is initialized. You can register a control to use control state by overriding the <xref:System.Web.UI.Control.OnInit%2A> method and calling the <xref:System.Web.UI.Page.RegisterRequiresControlState%2A> method. For more information about using the <xref:System.Web.UI.Control.ViewState%2A> property and control state when developing controls, see [Developing Custom ASP.NET Server Controls](~/add/includes/ajax-current-ext-md.md).  \\n  \\n To maintain view state on clients that cannot support the existing view state persistence mechanisms, you can extend the PageStatePersister class to introduce your own view state persistence methods, and you can use page adapters to configure your ASP.NET application to use different view state persistence mechanisms based on the type of client to which a page is served. Classes that derive from the PageStatePersister class must override the abstract <xref:System.Web.UI.PageStatePersister.Save%2A> method to store view state and control state in the persistence medium, and override the <xref:System.Web.UI.PageStatePersister.Load%2A> method to extract it. If you need to serialize view state and control state to a string, you can use the <xref:System.Web.UI.IStateFormatter> object that is accessed using the <xref:System.Web.UI.PageStatePersister.StateFormatter%2A> property. It efficiently serializes and deserializes object state information to a Base64-encoded string. You can also override the <xref:System.Web.UI.PageStatePersister.StateFormatter%2A> property to supply your own object state serialization mechanism.\"\n  example:\n  - \"The following code example demonstrates how to create a PageStatePersister object that saves view and control state on the Web server. The `StreamPageStatePersister` demonstrates how to override the <xref:System.Web.UI.PageStatePersister.Load%2A> and <xref:System.Web.UI.PageStatePersister.Save%2A> methods to extract and save view state information. Because the state persistence mechanisms are related to adaptive rendering and client capabilities, the `MyPageAdapter` class is provided to activate the `StreamPageStatePersister` for an ASP.NET application. Finally, a browser capabilities (.browser) file is provided to enable the `MyPageAdapter` adapter for a specific class of clients (in this case, the default Web browser).  \\n  \\n [!code-cs[Samples.AspNet.Alexkr.TextFilePageStatePersister_1#1](~/add/codesnippet/csharp/t-system.web.ui.pagestat_1.cs)]\\n [!code-vb[Samples.AspNet.Alexkr.TextFilePageStatePersister_1#1](~/add/codesnippet/visualbasic/t-system.web.ui.pagestat_1.vb)]  \\n  \\n The following code example demonstrates how to create a <xref:System.Web.UI.Adapters.PageAdapter> class that returns an instance of `StreamPageStatePersister`, which is used to persist view and control state for an ASP.NET Web page.  \\n  \\n [!code-vb[Samples.AspNet.Alexkr.TextFilePageStatePersister_1#5](~/add/codesnippet/visualbasic/t-system.web.ui.pagestat_2.vb)]\\n [!code-cs[Samples.AspNet.Alexkr.TextFilePageStatePersister_1#5](~/add/codesnippet/csharp/t-system.web.ui.pagestat_2.cs)]  \\n  \\n Compile these two classes into an assembly that you can use to run a sample, using the following compiler command line. Ensure that the compiled assembly is in the \\\\Bin directory underneath the ASP.NET application root.  \\n  \\n [!code-vb[Samples.AspNet.Alexkr.TextFilePageStatePersister_1#6](~/add/codesnippet/visualbasic/t-system.web.ui.pagestat_3.vb)]\\n [!code-cs[Samples.AspNet.Alexkr.TextFilePageStatePersister_1#6](~/add/codesnippet/csharp/t-system.web.ui.pagestat_3.cs)]  \\n  \\n Finally, to enable the `MyPageAdapter` adapter, you must create a directory named Browsers underneath the ASP.NET application root, and include a .browser file with configuration information. The `<refid>` element in the configuration file indicates that the configuration overrides the values specified for the default browser in the Default.browser configuration file. In this example, `MyPageAdapter` is used for ASP.NET Web pages (where normally no adapter is used).  \\n  \\n```  \\n<browsers>  \\n    <browser refid=\\\"Default\\\" >  \\n        <controlAdapters>  \\n            <adapter   \\n                controlType=\\\"System.Web.UI.Page\\\"                              \\n                adapterType=\\\"Samples.AspNet.CS.MyPageAdapter\\\" />  \\n        </controlAdapters>  \\n    </browser>  \\n</browsers>  \\n```\"\n  syntax:\n    content: public abstract class PageStatePersister\n  inheritance:\n  - System.Object\n  implements: []\n  inheritedMembers: []\n  platform:\n  - net462\n- uid: System.Web.UI.PageStatePersister.#ctor(System.Web.UI.Page)\n  id: '#ctor(System.Web.UI.Page)'\n  parent: System.Web.UI.PageStatePersister\n  langs:\n  - csharp\n  name: PageStatePersister(Page)\n  nameWithType: PageStatePersister.PageStatePersister(Page)\n  fullName: System.Web.UI.PageStatePersister.PageStatePersister(Page)\n  type: Constructor\n  assemblies:\n  - System.Web\n  namespace: System.Web.UI\n  summary: Initializes a new instance of the <xref href=\"System.Web.UI.PageStatePersister\"></xref> class.\n  syntax:\n    content: protected PageStatePersister (System.Web.UI.Page page);\n    parameters:\n    - id: page\n      type: System.Web.UI.Page\n      description: The <xref href=\"System.Web.UI.Page\"></xref> that the view state persistence mechanism is created for.\n  overload: System.Web.UI.PageStatePersister.#ctor*\n  exceptions:\n  - type: System.ArgumentNullException\n    commentId: T:System.ArgumentNullException\n    description: The <code>page</code> parameter is <xref uid=\"langword_csharp_null\" name=\"null\" href=\"\"></xref>.\n  platform:\n  - net462\n- uid: System.Web.UI.PageStatePersister.ControlState\n  id: ControlState\n  parent: System.Web.UI.PageStatePersister\n  langs:\n  - csharp\n  name: ControlState\n  nameWithType: PageStatePersister.ControlState\n  fullName: System.Web.UI.PageStatePersister.ControlState\n  type: Property\n  assemblies:\n  - System.Web\n  namespace: System.Web.UI\n  summary: Gets or sets an object that represents the data that controls contained by the current <xref href=\"System.Web.UI.Page\"></xref> object use to persist across HTTP requests to the Web server.\n  remarks: Control state is an object comprised of critical view state data that Web server controls need to function, and is contained in a separate object from normal view state information. Control state data is not affected when view state is disabled at the <xref:System.Web.UI.Page> level, but requires extra implementation steps to use. For more information on using the <xref:System.Web.UI.Control.ViewState%2A> property and control state when developing controls, see [Developing Custom ASP.NET Server Controls](~/add/includes/ajax-current-ext-md.md).\n  example:\n  - \"The following code example demonstrates how a class that derives from the <xref:System.Web.UI.PageStatePersister> class initializes the ControlState property. In this example, the ControlState property has been assigned to the <xref:System.Web.UI.Pair.Second> field of a <xref:System.Web.UI.Pair> object, and serialized using the <xref:System.Web.UI.ObjectStateFormatter> class. When the <xref:System.Web.UI.PageStatePersister.Load%2A> method is called, the <xref:System.Web.UI.ObjectStateFormatter> class is used to deserialize view state and control state information, and the ControlState property is initialized from the resulting <xref:System.Web.UI.Pair> object's <xref:System.Web.UI.Pair.Second> field. This code example is part of a larger example provided for the <xref:System.Web.UI.PageStatePersister> class.  \\n  \\n [!code-cs[Samples.AspNet.Alexkr.TextFilePageStatePersister_1#2](~/add/codesnippet/csharp/p-system.web.ui.pagestat_0_1.cs)]\\n [!code-vb[Samples.AspNet.Alexkr.TextFilePageStatePersister_1#2](~/add/codesnippet/visualbasic/p-system.web.ui.pagestat_0_1.vb)]\"\n  syntax:\n    content: public object ControlState { get; set; }\n    return:\n      type: System.Object\n      description: An object that contains view state data.\n  overload: System.Web.UI.PageStatePersister.ControlState*\n  exceptions: []\n  platform:\n  - net462\n- uid: System.Web.UI.PageStatePersister.Load\n  id: Load\n  parent: System.Web.UI.PageStatePersister\n  langs:\n  - csharp\n  name: Load()\n  nameWithType: PageStatePersister.Load()\n  fullName: System.Web.UI.PageStatePersister.Load()\n  type: Method\n  assemblies:\n  - System.Web\n  namespace: System.Web.UI\n  summary: Overridden by derived classes to deserialize and load persisted state information when a <xref href=\"System.Web.UI.Page\"></xref> object initializes its control hierarchy.\n  remarks: Classes that derive from the <xref:System.Web.UI.PageStatePersister> class implement the Load method to initialize the <xref:System.Web.UI.PageStatePersister.ViewState%2A> and <xref:System.Web.UI.PageStatePersister.ControlState%2A> properties from some persisted format.\n  example:\n  - \"The following code example demonstrates how a class that derives from the <xref:System.Web.UI.PageStatePersister> class implements the Load method to load view state from a persistence medium. The `StreamPageStatePersister` attempts to read data from a stream. It uses an <xref:System.Web.UI.IStateFormatter> object to deserialize view state data and initialize the <xref:System.Web.UI.PageStatePersister.ViewState%2A> property and the <xref:System.Web.UI.PageStatePersister.ControlState%2A> property, which a page uses to initialize controls. This code example is part of a larger example provided for the <xref:System.Web.UI.PageStatePersister> class.  \\n  \\n [!code-cs[Samples.AspNet.Alexkr.TextFilePageStatePersister_1#2](~/add/codesnippet/csharp/m-system.web.ui.pagestat_0_1.cs)]\\n [!code-vb[Samples.AspNet.Alexkr.TextFilePageStatePersister_1#2](~/add/codesnippet/visualbasic/m-system.web.ui.pagestat_0_1.vb)]\"\n  syntax:\n    content: public abstract void Load ();\n    parameters: []\n  overload: System.Web.UI.PageStatePersister.Load*\n  exceptions: []\n  platform:\n  - net462\n- uid: System.Web.UI.PageStatePersister.Page\n  id: Page\n  parent: System.Web.UI.PageStatePersister\n  langs:\n  - csharp\n  name: Page\n  nameWithType: PageStatePersister.Page\n  fullName: System.Web.UI.PageStatePersister.Page\n  type: Property\n  assemblies:\n  - System.Web\n  namespace: System.Web.UI\n  summary: Gets or sets the <xref href=\"System.Web.UI.Page\"></xref> object that the view state persistence mechanism is created for.\n  remarks: You can use the Page property to access the current <xref:System.Web.HttpContext> object.\n  syntax:\n    content: protected System.Web.UI.Page Page { get; set; }\n    return:\n      type: System.Web.UI.Page\n      description: The <xref href=\"System.Web.UI.Page\"></xref> that the <xref href=\"System.Web.UI.PageStatePersister\"></xref> is associated with.\n  overload: System.Web.UI.PageStatePersister.Page*\n  exceptions: []\n  platform:\n  - net462\n- uid: System.Web.UI.PageStatePersister.Save\n  id: Save\n  parent: System.Web.UI.PageStatePersister\n  langs:\n  - csharp\n  name: Save()\n  nameWithType: PageStatePersister.Save()\n  fullName: System.Web.UI.PageStatePersister.Save()\n  type: Method\n  assemblies:\n  - System.Web\n  namespace: System.Web.UI\n  summary: Overridden by derived classes to serialize persisted state information when a <xref href=\"System.Web.UI.Page\"></xref> object is unloaded from memory.\n  remarks: Classes that derive from the <xref:System.Web.UI.PageStatePersister> class implement the Save method to persist the contents of the <xref:System.Web.UI.PageStatePersister.ViewState%2A> and <xref:System.Web.UI.PageStatePersister.ControlState%2A> properties to a persistence medium.\n  example:\n  - \"The following code example demonstrates how a class that derives from the <xref:System.Web.UI.PageStatePersister> class implements the Save method to persist view state to a persistence medium. The `StreamPageStatePersister` uses an <xref:System.Web.UI.IStateFormatter> object to serialize the contents of the <xref:System.Web.UI.PageStatePersister.ViewState%2A> property and <xref:System.Web.UI.PageStatePersister.ControlState%2A> property. This code example is part of a larger example provided for the <xref:System.Web.UI.PageStatePersister> class.  \\n  \\n [!code-cs[Samples.AspNet.Alexkr.TextFilePageStatePersister_1#3](~/add/codesnippet/csharp/m-system.web.ui.pagestat_1_1.cs)]\\n [!code-vb[Samples.AspNet.Alexkr.TextFilePageStatePersister_1#3](~/add/codesnippet/visualbasic/m-system.web.ui.pagestat_1_1.vb)]\"\n  syntax:\n    content: public abstract void Save ();\n    parameters: []\n  overload: System.Web.UI.PageStatePersister.Save*\n  exceptions: []\n  platform:\n  - net462\n- uid: System.Web.UI.PageStatePersister.StateFormatter\n  id: StateFormatter\n  parent: System.Web.UI.PageStatePersister\n  langs:\n  - csharp\n  name: StateFormatter\n  nameWithType: PageStatePersister.StateFormatter\n  fullName: System.Web.UI.PageStatePersister.StateFormatter\n  type: Property\n  assemblies:\n  - System.Web\n  namespace: System.Web.UI\n  summary: Gets an <xref href=\"System.Web.UI.IStateFormatter\"></xref> object that is used to serialize and deserialize the state information contained in the <xref:System.Web.UI.PageStatePersister.ViewState*> and <xref:System.Web.UI.PageStatePersister.ControlState*> properties during calls to the <xref:System.Web.UI.PageStatePersister.Save*> and <xref:System.Web.UI.PageStatePersister.Load*> methods.\n  remarks: You can override the StateFormatter property to provide your own view state formatter.\n  example:\n  - \"The following code example demonstrates how a class that derives from the <xref:System.Web.UI.PageStatePersister> class accesses the StateFormatter property to retrieve an <xref:System.Web.UI.ObjectStateFormatter> object, which is the default implementation of the <xref:System.Web.UI.IStateFormatter> interface, to serialize view state and control state to a stream. This code example is part of a larger example provided for the <xref:System.Web.UI.PageStatePersister> class.  \\n  \\n [!code-cs[Samples.AspNet.Alexkr.TextFilePageStatePersister_1#3](~/add/codesnippet/csharp/p-system.web.ui.pagestat_2_1.cs)]\\n [!code-vb[Samples.AspNet.Alexkr.TextFilePageStatePersister_1#3](~/add/codesnippet/visualbasic/p-system.web.ui.pagestat_2_1.vb)]\"\n  syntax:\n    content: protected System.Web.UI.IStateFormatter StateFormatter { get; }\n    return:\n      type: System.Web.UI.IStateFormatter\n      description: An instance of <xref href=\"System.Web.UI.IStateFormatter\"></xref> that is used to serialize and deserialize object state.\n  overload: System.Web.UI.PageStatePersister.StateFormatter*\n  exceptions: []\n  platform:\n  - net462\n- uid: System.Web.UI.PageStatePersister.ViewState\n  id: ViewState\n  parent: System.Web.UI.PageStatePersister\n  langs:\n  - csharp\n  name: ViewState\n  nameWithType: PageStatePersister.ViewState\n  fullName: System.Web.UI.PageStatePersister.ViewState\n  type: Property\n  assemblies:\n  - System.Web\n  namespace: System.Web.UI\n  summary: Gets or sets an object that represents the data that controls contained by the current <xref href=\"System.Web.UI.Page\"></xref> object use to persist across HTTP requests to the Web server.\n  remarks: View state is a dictionary of state data that Web server controls need to function and render themselves. Control developers typically access the view state object using the <xref:System.Web.UI.Control.ViewState%2A> property. View state is affected when view state is disabled at the <xref:System.Web.UI.Page> level, and as a result controls might not behave correctly in these scenarios. For more information on using <xref:System.Web.UI.Control.ViewState%2A> and control state when developing controls, see [Developing Custom ASP.NET Server Controls](~/add/includes/ajax-current-ext-md.md).\n  example:\n  - \"The following code example demonstrates how a class that derives from the <xref:System.Web.UI.PageStatePersister> class initializes the ViewState property. In this example, the ViewState property has been assigned to the <xref:System.Web.UI.Pair.First> field of a <xref:System.Web.UI.Pair> object, and serialized using the <xref:System.Web.UI.ObjectStateFormatter> object, which is an instance of the <xref:System.Web.UI.IStateFormatter> interface. When the <xref:System.Web.UI.PageStatePersister.Load%2A> method is called, the <xref:System.Web.UI.ObjectStateFormatter> interface is used to deserialize view state information, and the ViewState property is initialized from the resulting <xref:System.Web.UI.Pair> object's <xref:System.Web.UI.Pair.First> field. This code example is part of a larger example provided for the <xref:System.Web.UI.PageStatePersister> class.  \\n  \\n [!code-cs[Samples.AspNet.Alexkr.TextFilePageStatePersister_1#2](~/add/codesnippet/csharp/p-system.web.ui.pagestat_1_1.cs)]\\n [!code-vb[Samples.AspNet.Alexkr.TextFilePageStatePersister_1#2](~/add/codesnippet/visualbasic/p-system.web.ui.pagestat_1_1.vb)]\"\n  syntax:\n    content: public object ViewState { get; set; }\n    return:\n      type: System.Object\n      description: An object that contains view state data.\n  overload: System.Web.UI.PageStatePersister.ViewState*\n  exceptions: []\n  platform:\n  - net462\nreferences:\n- uid: System.Object\n  isExternal: false\n  name: System.Object\n- uid: System.ArgumentNullException\n  isExternal: true\n  name: System.ArgumentNullException\n- uid: System.Web.UI.PageStatePersister.#ctor(System.Web.UI.Page)\n  parent: System.Web.UI.PageStatePersister\n  isExternal: false\n  name: PageStatePersister(Page)\n  nameWithType: PageStatePersister.PageStatePersister(Page)\n  fullName: System.Web.UI.PageStatePersister.PageStatePersister(Page)\n- uid: System.Web.UI.Page\n  parent: System.Web.UI\n  isExternal: false\n  name: Page\n  nameWithType: Page\n  fullName: System.Web.UI.Page\n- uid: System.Web.UI.PageStatePersister.ControlState\n  parent: System.Web.UI.PageStatePersister\n  isExternal: false\n  name: ControlState\n  nameWithType: PageStatePersister.ControlState\n  fullName: System.Web.UI.PageStatePersister.ControlState\n- uid: System.Web.UI.PageStatePersister.Load\n  parent: System.Web.UI.PageStatePersister\n  isExternal: false\n  name: Load()\n  nameWithType: PageStatePersister.Load()\n  fullName: System.Web.UI.PageStatePersister.Load()\n- uid: System.Web.UI.PageStatePersister.Page\n  parent: System.Web.UI.PageStatePersister\n  isExternal: false\n  name: Page\n  nameWithType: PageStatePersister.Page\n  fullName: System.Web.UI.PageStatePersister.Page\n- uid: System.Web.UI.PageStatePersister.Save\n  parent: System.Web.UI.PageStatePersister\n  isExternal: false\n  name: Save()\n  nameWithType: PageStatePersister.Save()\n  fullName: System.Web.UI.PageStatePersister.Save()\n- uid: System.Web.UI.PageStatePersister.StateFormatter\n  parent: System.Web.UI.PageStatePersister\n  isExternal: false\n  name: StateFormatter\n  nameWithType: PageStatePersister.StateFormatter\n  fullName: System.Web.UI.PageStatePersister.StateFormatter\n- uid: System.Web.UI.IStateFormatter\n  parent: System.Web.UI\n  isExternal: false\n  name: IStateFormatter\n  nameWithType: IStateFormatter\n  fullName: System.Web.UI.IStateFormatter\n- uid: System.Web.UI.PageStatePersister.ViewState\n  parent: System.Web.UI.PageStatePersister\n  isExternal: false\n  name: ViewState\n  nameWithType: PageStatePersister.ViewState\n  fullName: System.Web.UI.PageStatePersister.ViewState\n- uid: System.Web.UI.PageStatePersister.#ctor*\n  parent: System.Web.UI.PageStatePersister\n  isExternal: false\n  name: PageStatePersister\n  nameWithType: PageStatePersister.PageStatePersister\n- uid: System.Web.UI.PageStatePersister.ControlState*\n  parent: System.Web.UI.PageStatePersister\n  isExternal: false\n  name: ControlState\n  nameWithType: PageStatePersister.ControlState\n- uid: System.Web.UI.PageStatePersister.Load*\n  parent: System.Web.UI.PageStatePersister\n  isExternal: false\n  name: Load\n  nameWithType: PageStatePersister.Load\n- uid: System.Web.UI.PageStatePersister.Page*\n  parent: System.Web.UI.PageStatePersister\n  isExternal: false\n  name: Page\n  nameWithType: PageStatePersister.Page\n- uid: System.Web.UI.PageStatePersister.Save*\n  parent: System.Web.UI.PageStatePersister\n  isExternal: false\n  name: Save\n  nameWithType: PageStatePersister.Save\n- uid: System.Web.UI.PageStatePersister.StateFormatter*\n  parent: System.Web.UI.PageStatePersister\n  isExternal: false\n  name: StateFormatter\n  nameWithType: PageStatePersister.StateFormatter\n- uid: System.Web.UI.PageStatePersister.ViewState*\n  parent: System.Web.UI.PageStatePersister\n  isExternal: false\n  name: ViewState\n  nameWithType: PageStatePersister.ViewState\n"}