{"nodes":[{"pos":[534,676],"content":"Facilitates communication between an enlisted transaction participant and the transaction manager during the Prepare phase of the transaction.","needQuote":true,"needEscape":true,"nodes":[{"content":"Facilitates communication between an enlisted transaction participant and the transaction manager during the Prepare phase of the transaction.","pos":[0,142]}]},{"pos":[689,1904],"content":"During the initial (prepare) phase of the transaction, the transaction manager passes this type to the resource manager by calling the <xref:System.Transactions.IEnlistmentNotification.Prepare%2A> method to obtain a resource's vote on the transaction. Depending on whether it votes to commit or roll back, your implementation of the resource manager should call the <xref:System.Transactions.PreparingEnlistment.Prepared%2A> or <xref:System.Transactions.PreparingEnlistment.ForceRollback%2A> methods of this type.       The resource manager can also call the <xref:System.Transactions.Enlistment.Done%2A> method at anytime before it has called the <xref:System.Transactions.PreparingEnlistment.Prepared%2A> method. By doing so, the enlistment is casting a read only vote, meaning that it votes commit on the transaction but does not need to receive the final outcome.       Durable resource managers can retrieve the information that is be needed by the transaction manager for re-enlistment from the <xref:System.Transactions.PreparingEnlistment.RecoveryInformation%2A> property. For more information on recovery, see [Performing Recovery](http://msdn.microsoft.com/en-us/d342c5c7-da64-4a4c-8e63-b52f4fbf2691).","needQuote":false,"needEscape":true,"nodes":[{"content":"During the initial (prepare) phase of the transaction, the transaction manager passes this type to the resource manager by calling the &lt;xref:System.Transactions.IEnlistmentNotification.Prepare%2A&gt; method to obtain a resource's vote on the transaction.","pos":[0,251],"source":"During the initial (prepare) phase of the transaction, the transaction manager passes this type to the resource manager by calling the <xref:System.Transactions.IEnlistmentNotification.Prepare%2A> method to obtain a resource's vote on the transaction."},{"content":"Depending on whether it votes to commit or roll back, your implementation of the resource manager should call the &lt;xref:System.Transactions.PreparingEnlistment.Prepared%2A&gt; or &lt;xref:System.Transactions.PreparingEnlistment.ForceRollback%2A&gt; methods of this type.","pos":[252,513],"source":" Depending on whether it votes to commit or roll back, your implementation of the resource manager should call the <xref:System.Transactions.PreparingEnlistment.Prepared%2A> or <xref:System.Transactions.PreparingEnlistment.ForceRollback%2A> methods of this type."},{"content":"The resource manager can also call the &lt;xref:System.Transactions.Enlistment.Done%2A&gt; method at anytime before it has called the &lt;xref:System.Transactions.PreparingEnlistment.Prepared%2A&gt; method.","pos":[520,714],"source":"       The resource manager can also call the <xref:System.Transactions.Enlistment.Done%2A> method at anytime before it has called the <xref:System.Transactions.PreparingEnlistment.Prepared%2A> method."},{"content":"By doing so, the enlistment is casting a read only vote, meaning that it votes commit on the transaction but does not need to receive the final outcome.","pos":[715,867]},{"content":"Durable resource managers can retrieve the information that is be needed by the transaction manager for re-enlistment from the &lt;xref:System.Transactions.PreparingEnlistment.RecoveryInformation%2A&gt; property.","pos":[874,1080],"source":"       Durable resource managers can retrieve the information that is be needed by the transaction manager for re-enlistment from the <xref:System.Transactions.PreparingEnlistment.RecoveryInformation%2A> property."},{"content":"For more information on recovery, see <bpt id=\"p1\">[</bpt>Performing Recovery<ept id=\"p1\">](http://msdn.microsoft.com/en-us/d342c5c7-da64-4a4c-8e63-b52f4fbf2691)</ept>.","pos":[1081,1211],"source":" For more information on recovery, see [Performing Recovery](http://msdn.microsoft.com/en-us/d342c5c7-da64-4a4c-8e63-b52f4fbf2691)."}]},{"pos":[2749,2802],"content":"Indicates that the transaction should be rolled back.","needQuote":true,"needEscape":true,"nodes":[{"content":"Indicates that the transaction should be rolled back.","pos":[0,53]}]},{"pos":[2814,3047],"content":"An implementation of the <xref:System.Transactions.IEnlistmentNotification.Prepare%2A> method of the <xref:System.Transactions.IEnlistmentNotification> interface calls this method to indicate that the transaction must be rolled back.","needQuote":true,"needEscape":true,"nodes":[{"content":"An implementation of the &lt;xref:System.Transactions.IEnlistmentNotification.Prepare%2A&gt; method of the &lt;xref:System.Transactions.IEnlistmentNotification&gt; interface calls this method to indicate that the transaction must be rolled back.","pos":[0,233],"source":"An implementation of the <xref:System.Transactions.IEnlistmentNotification.Prepare%2A> method of the <xref:System.Transactions.IEnlistmentNotification> interface calls this method to indicate that the transaction must be rolled back."}]},{"pos":[3878,3931],"content":"Indicates that the transaction should be rolled back.","needQuote":true,"needEscape":true,"nodes":[{"content":"Indicates that the transaction should be rolled back.","pos":[0,53]}]},{"pos":[4072,4118],"content":"An explanation of why a rollback is triggered.","needQuote":true,"needEscape":true,"nodes":[{"content":"An explanation of why a rollback is triggered.","pos":[0,46]}]},{"pos":[4593,4641],"content":"Indicates that the transaction can be committed.","needQuote":true,"needEscape":true,"nodes":[{"content":"Indicates that the transaction can be committed.","pos":[0,48]}]},{"pos":[4654,5660],"content":"In the first (prepare) phase of a two phase commit, a resource manager implementing the <xref:System.Transactions.IEnlistmentNotification.Prepare%2A> method of the <xref:System.Transactions.IEnlistmentNotification> interface, calls this method to indicate that the transaction can be committed.       The resource manager can call the <xref:System.Transactions.Enlistment.Done%2A> method at anytime before it has called this method.  By doing so, the enlistment is casting a read only vote, meaning that it votes commit on the transaction but does not need to receive the final outcome.       Once this method is called by an enlistment and before it returns, it is possible that another thread or this same thread could make a call into the same enlistment method such as <xref:System.Transactions.IEnlistmentNotification.Rollback%2A> to perform a rollback. This can result in a deadlock situation if the resource manager implementation does not release resource locks until after this method returns.","needQuote":false,"needEscape":true,"nodes":[{"content":"In the first (prepare) phase of a two phase commit, a resource manager implementing the <xref:System.Transactions.IEnlistmentNotification.Prepare%2A> method of the <xref:System.Transactions.IEnlistmentNotification> interface, calls this method to indicate that the transaction can be committed.       The resource manager can call the <xref:System.Transactions.Enlistment.Done%2A> method at anytime before it has called this method.  By doing so, the enlistment is casting a read only vote, meaning that it votes commit on the transaction but does not need to receive the final outcome.       Once this method is called by an enlistment and before it returns, it is possible that another thread or this same thread could make a call into the same enlistment method such as <xref:System.Transactions.IEnlistmentNotification.Rollback%2A> to perform a rollback. This can result in a deadlock situation if the resource manager implementation does not release resource locks until after this method returns.","pos":[0,1002],"nodes":[{"content":"In the first (prepare) phase of a two phase commit, a resource manager implementing the &lt;xref:System.Transactions.IEnlistmentNotification.Prepare%2A&gt; method of the &lt;xref:System.Transactions.IEnlistmentNotification&gt; interface, calls this method to indicate that the transaction can be committed.","pos":[0,294],"source":"In the first (prepare) phase of a two phase commit, a resource manager implementing the <xref:System.Transactions.IEnlistmentNotification.Prepare%2A> method of the <xref:System.Transactions.IEnlistmentNotification> interface, calls this method to indicate that the transaction can be committed."},{"content":"The resource manager can call the &lt;xref:System.Transactions.Enlistment.Done%2A&gt; method at anytime before it has called this method.","pos":[301,432],"source":"       The resource manager can call the <xref:System.Transactions.Enlistment.Done%2A> method at anytime before it has called this method."},{"content":"By doing so, the enlistment is casting a read only vote, meaning that it votes commit on the transaction but does not need to receive the final outcome.","pos":[434,586]},{"content":"Once this method is called by an enlistment and before it returns, it is possible that another thread or this same thread could make a call into the same enlistment method such as &lt;xref:System.Transactions.IEnlistmentNotification.Rollback%2A&gt; to perform a rollback.","pos":[593,858],"source":"       Once this method is called by an enlistment and before it returns, it is possible that another thread or this same thread could make a call into the same enlistment method such as <xref:System.Transactions.IEnlistmentNotification.Rollback%2A> to perform a rollback."},{"content":"This can result in a deadlock situation if the resource manager implementation does not release resource locks until after this method returns.","pos":[859,1002]}]}]},{"pos":[6449,6496],"content":"Gets the recovery information of an enlistment.","needQuote":true,"needEscape":true,"nodes":[{"content":"Gets the recovery information of an enlistment.","pos":[0,47]}]},{"pos":[6634,6676],"content":"The recovery information of an enlistment.","needQuote":true,"needEscape":true,"nodes":[{"content":"The recovery information of an enlistment.","pos":[0,42]}]},{"pos":[6874,6992],"content":"An attempt to get recovery information inside a volatile enlistment, which does not generate any recovery information.","needQuote":true,"needEscape":true,"nodes":[{"content":"An attempt to get recovery information inside a volatile enlistment, which does not generate any recovery information.","pos":[0,118]}]}],"content":"### YamlMime:ManagedReference\nitems:\n- uid: System.Transactions.PreparingEnlistment\n  id: PreparingEnlistment\n  children:\n  - System.Transactions.PreparingEnlistment.ForceRollback\n  - System.Transactions.PreparingEnlistment.ForceRollback(System.Exception)\n  - System.Transactions.PreparingEnlistment.Prepared\n  - System.Transactions.PreparingEnlistment.RecoveryInformation\n  langs:\n  - csharp\n  name: PreparingEnlistment\n  nameWithType: PreparingEnlistment\n  fullName: System.Transactions.PreparingEnlistment\n  type: Class\n  summary: Facilitates communication between an enlisted transaction participant and the transaction manager during the Prepare phase of the transaction.\n  remarks: \"During the initial (prepare) phase of the transaction, the transaction manager passes this type to the resource manager by calling the <xref:System.Transactions.IEnlistmentNotification.Prepare%2A> method to obtain a resource's vote on the transaction. Depending on whether it votes to commit or roll back, your implementation of the resource manager should call the <xref:System.Transactions.PreparingEnlistment.Prepared%2A> or <xref:System.Transactions.PreparingEnlistment.ForceRollback%2A> methods of this type.  \\n  \\n The resource manager can also call the <xref:System.Transactions.Enlistment.Done%2A> method at anytime before it has called the <xref:System.Transactions.PreparingEnlistment.Prepared%2A> method. By doing so, the enlistment is casting a read only vote, meaning that it votes commit on the transaction but does not need to receive the final outcome.  \\n  \\n Durable resource managers can retrieve the information that is be needed by the transaction manager for re-enlistment from the <xref:System.Transactions.PreparingEnlistment.RecoveryInformation%2A> property. For more information on recovery, see [Performing Recovery](http://msdn.microsoft.com/en-us/d342c5c7-da64-4a4c-8e63-b52f4fbf2691).\"\n  example:\n  - >-\n    [!code-cs[Tx_Enlist#2](~/add/codesnippet/csharp/t-system.transactions.pr_1.cs)]\n     [!code-vb[Tx_Enlist#2](~/add/codesnippet/visualbasic/t-system.transactions.pr_1.vb)]\n  syntax:\n    content: 'public class PreparingEnlistment : System.Transactions.Enlistment'\n  inheritance:\n  - System.Object\n  - System.Transactions.Enlistment\n  implements: []\n  inheritedMembers:\n  - System.Transactions.Enlistment.Done\n  platform:\n  - net462\n- uid: System.Transactions.PreparingEnlistment.ForceRollback\n  id: ForceRollback\n  parent: System.Transactions.PreparingEnlistment\n  langs:\n  - csharp\n  name: ForceRollback()\n  nameWithType: PreparingEnlistment.ForceRollback()\n  fullName: System.Transactions.PreparingEnlistment.ForceRollback()\n  type: Method\n  assemblies:\n  - System.Transactions\n  namespace: System.Transactions\n  summary: Indicates that the transaction should be rolled back.\n  remarks: An implementation of the <xref:System.Transactions.IEnlistmentNotification.Prepare%2A> method of the <xref:System.Transactions.IEnlistmentNotification> interface calls this method to indicate that the transaction must be rolled back.\n  example:\n  - >-\n    [!code-cs[Tx_Enlist#2](~/add/codesnippet/csharp/m-system.transactions.pr_0_1.cs)]\n     [!code-vb[Tx_Enlist#2](~/add/codesnippet/visualbasic/m-system.transactions.pr_0_1.vb)]\n  syntax:\n    content: public void ForceRollback ();\n    parameters: []\n  overload: System.Transactions.PreparingEnlistment.ForceRollback*\n  exceptions: []\n  platform:\n  - net462\n- uid: System.Transactions.PreparingEnlistment.ForceRollback(System.Exception)\n  id: ForceRollback(System.Exception)\n  parent: System.Transactions.PreparingEnlistment\n  langs:\n  - csharp\n  name: ForceRollback(Exception)\n  nameWithType: PreparingEnlistment.ForceRollback(Exception)\n  fullName: System.Transactions.PreparingEnlistment.ForceRollback(Exception)\n  type: Method\n  assemblies:\n  - System.Transactions\n  namespace: System.Transactions\n  summary: Indicates that the transaction should be rolled back.\n  syntax:\n    content: public void ForceRollback (Exception e);\n    parameters:\n    - id: e\n      type: System.Exception\n      description: An explanation of why a rollback is triggered.\n  overload: System.Transactions.PreparingEnlistment.ForceRollback*\n  exceptions: []\n  platform:\n  - net462\n- uid: System.Transactions.PreparingEnlistment.Prepared\n  id: Prepared\n  parent: System.Transactions.PreparingEnlistment\n  langs:\n  - csharp\n  name: Prepared()\n  nameWithType: PreparingEnlistment.Prepared()\n  fullName: System.Transactions.PreparingEnlistment.Prepared()\n  type: Method\n  assemblies:\n  - System.Transactions\n  namespace: System.Transactions\n  summary: Indicates that the transaction can be committed.\n  remarks: \"In the first (prepare) phase of a two phase commit, a resource manager implementing the <xref:System.Transactions.IEnlistmentNotification.Prepare%2A> method of the <xref:System.Transactions.IEnlistmentNotification> interface, calls this method to indicate that the transaction can be committed.  \\n  \\n The resource manager can call the <xref:System.Transactions.Enlistment.Done%2A> method at anytime before it has called this method.  By doing so, the enlistment is casting a read only vote, meaning that it votes commit on the transaction but does not need to receive the final outcome.  \\n  \\n Once this method is called by an enlistment and before it returns, it is possible that another thread or this same thread could make a call into the same enlistment method such as <xref:System.Transactions.IEnlistmentNotification.Rollback%2A> to perform a rollback. This can result in a deadlock situation if the resource manager implementation does not release resource locks until after this method returns.\"\n  example:\n  - >-\n    [!code-cs[Tx_Enlist#2](~/add/codesnippet/csharp/m-system.transactions.pr_1_1.cs)]\n     [!code-vb[Tx_Enlist#2](~/add/codesnippet/visualbasic/m-system.transactions.pr_1_1.vb)]\n  syntax:\n    content: public void Prepared ();\n    parameters: []\n  overload: System.Transactions.PreparingEnlistment.Prepared*\n  exceptions: []\n  platform:\n  - net462\n- uid: System.Transactions.PreparingEnlistment.RecoveryInformation\n  id: RecoveryInformation\n  parent: System.Transactions.PreparingEnlistment\n  langs:\n  - csharp\n  name: RecoveryInformation()\n  nameWithType: PreparingEnlistment.RecoveryInformation()\n  fullName: System.Transactions.PreparingEnlistment.RecoveryInformation()\n  type: Method\n  assemblies:\n  - System.Transactions\n  namespace: System.Transactions\n  summary: Gets the recovery information of an enlistment.\n  syntax:\n    content: public byte[] RecoveryInformation ();\n    parameters: []\n    return:\n      type: System.Byte[]\n      description: The recovery information of an enlistment.\n  overload: System.Transactions.PreparingEnlistment.RecoveryInformation*\n  exceptions:\n  - type: System.InvalidOperationException\n    commentId: T:System.InvalidOperationException\n    description: An attempt to get recovery information inside a volatile enlistment, which does not generate any recovery information.\n  platform:\n  - net462\nreferences:\n- uid: System.Transactions.Enlistment\n  isExternal: false\n  name: System.Transactions.Enlistment\n- uid: System.InvalidOperationException\n  isExternal: true\n  name: System.InvalidOperationException\n- uid: System.Transactions.PreparingEnlistment.ForceRollback\n  parent: System.Transactions.PreparingEnlistment\n  isExternal: false\n  name: ForceRollback()\n  nameWithType: PreparingEnlistment.ForceRollback()\n  fullName: System.Transactions.PreparingEnlistment.ForceRollback()\n- uid: System.Transactions.PreparingEnlistment.ForceRollback(System.Exception)\n  parent: System.Transactions.PreparingEnlistment\n  isExternal: false\n  name: ForceRollback(Exception)\n  nameWithType: PreparingEnlistment.ForceRollback(Exception)\n  fullName: System.Transactions.PreparingEnlistment.ForceRollback(Exception)\n- uid: System.Exception\n  parent: System\n  isExternal: true\n  name: Exception\n  nameWithType: Exception\n  fullName: System.Exception\n- uid: System.Transactions.PreparingEnlistment.Prepared\n  parent: System.Transactions.PreparingEnlistment\n  isExternal: false\n  name: Prepared()\n  nameWithType: PreparingEnlistment.Prepared()\n  fullName: System.Transactions.PreparingEnlistment.Prepared()\n- uid: System.Transactions.PreparingEnlistment.RecoveryInformation\n  parent: System.Transactions.PreparingEnlistment\n  isExternal: false\n  name: RecoveryInformation()\n  nameWithType: PreparingEnlistment.RecoveryInformation()\n  fullName: System.Transactions.PreparingEnlistment.RecoveryInformation()\n- uid: System.Byte[]\n  parent: System\n  isExternal: true\n  name: Byte\n  nameWithType: Byte\n  fullName: System.Byte[]\n  spec.csharp:\n  - uid: System.Byte\n    name: Byte\n    nameWithType: Byte\n    fullName: Byte[]\n  - name: '[]'\n    nameWithType: '[]'\n    fullName: '[]'\n- uid: System.Transactions.PreparingEnlistment.ForceRollback*\n  parent: System.Transactions.PreparingEnlistment\n  isExternal: false\n  name: ForceRollback\n  nameWithType: PreparingEnlistment.ForceRollback\n- uid: System.Transactions.PreparingEnlistment.Prepared*\n  parent: System.Transactions.PreparingEnlistment\n  isExternal: false\n  name: Prepared\n  nameWithType: PreparingEnlistment.Prepared\n- uid: System.Transactions.PreparingEnlistment.RecoveryInformation*\n  parent: System.Transactions.PreparingEnlistment\n  isExternal: false\n  name: RecoveryInformation\n  nameWithType: PreparingEnlistment.RecoveryInformation\n"}