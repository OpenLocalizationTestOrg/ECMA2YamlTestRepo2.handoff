{"nodes":[{"pos":[278,418],"content":"Facilitates communication between an enlisted transaction participant and the transaction manager during the final phase of the transaction.","needQuote":true,"needEscape":true,"nodes":[{"content":"Facilitates communication between an enlisted transaction participant and the transaction manager during the final phase of the transaction.","pos":[0,140]}]},{"pos":[431,1953],"content":"When the <xref:System.Transactions.Transaction.EnlistVolatile%2A> and <xref:System.Transactions.Transaction.EnlistDurable%2A> methods of the <xref:System.Transactions.Transaction> object are invoked to enlist a participant in a transaction, they return this object describing the enlistment.       During the final phase of the transaction commit, the transaction manager passes this object to a resource manager implementing the <xref:System.Transactions.IEnlistmentNotification> interface that has enlisted in a transaction. Specifically, the transaction manager calls either the <xref:System.Transactions.IEnlistmentNotification.Commit%2A> or the <xref:System.Transactions.IEnlistmentNotification.Rollback%2A> method of the participant, depending on whether the latter has decided to commit or roll back the transaction. The participant should call the <xref:System.Transactions.Enlistment.Done%2A> method of this object to let the transaction manager know that it has completed its work.       An enlistment can call the <xref:System.Transactions.Enlistment.Done%2A> method at anytime before it has called <xref:System.Transactions.PreparingEnlistment.Prepared%2A> in the prepare phase.  By doing so, the enlistment is casting a read only vote, meaning that it votes commit on the transaction but does not need to receive the final outcome. Note that, after the <xref:System.Transactions.Enlistment.Done%2A> method is called, the enlisted participant receives no further notifications from the transaction manager.","needQuote":false,"needEscape":true,"nodes":[{"content":"When the <xref:System.Transactions.Transaction.EnlistVolatile%2A> and <xref:System.Transactions.Transaction.EnlistDurable%2A> methods of the <xref:System.Transactions.Transaction> object are invoked to enlist a participant in a transaction, they return this object describing the enlistment.       During the final phase of the transaction commit, the transaction manager passes this object to a resource manager implementing the <xref:System.Transactions.IEnlistmentNotification> interface that has enlisted in a transaction. Specifically, the transaction manager calls either the <xref:System.Transactions.IEnlistmentNotification.Commit%2A> or the <xref:System.Transactions.IEnlistmentNotification.Rollback%2A> method of the participant, depending on whether the latter has decided to commit or roll back the transaction. The participant should call the <xref:System.Transactions.Enlistment.Done%2A> method of this object to let the transaction manager know that it has completed its work.       An enlistment can call the <xref:System.Transactions.Enlistment.Done%2A> method at anytime before it has called <xref:System.Transactions.PreparingEnlistment.Prepared%2A> in the prepare phase.  By doing so, the enlistment is casting a read only vote, meaning that it votes commit on the transaction but does not need to receive the final outcome. Note that, after the <xref:System.Transactions.Enlistment.Done%2A> method is called, the enlisted participant receives no further notifications from the transaction manager.","pos":[0,1518],"nodes":[{"content":"When the &lt;xref:System.Transactions.Transaction.EnlistVolatile%2A&gt; and &lt;xref:System.Transactions.Transaction.EnlistDurable%2A&gt; methods of the &lt;xref:System.Transactions.Transaction&gt; object are invoked to enlist a participant in a transaction, they return this object describing the enlistment.","pos":[0,291],"source":"When the <xref:System.Transactions.Transaction.EnlistVolatile%2A> and <xref:System.Transactions.Transaction.EnlistDurable%2A> methods of the <xref:System.Transactions.Transaction> object are invoked to enlist a participant in a transaction, they return this object describing the enlistment."},{"content":"During the final phase of the transaction commit, the transaction manager passes this object to a resource manager implementing the &lt;xref:System.Transactions.IEnlistmentNotification&gt; interface that has enlisted in a transaction.","pos":[298,526],"source":"       During the final phase of the transaction commit, the transaction manager passes this object to a resource manager implementing the <xref:System.Transactions.IEnlistmentNotification> interface that has enlisted in a transaction."},{"content":"Specifically, the transaction manager calls either the &lt;xref:System.Transactions.IEnlistmentNotification.Commit%2A&gt; or the &lt;xref:System.Transactions.IEnlistmentNotification.Rollback%2A&gt; method of the participant, depending on whether the latter has decided to commit or roll back the transaction.","pos":[527,823],"source":" Specifically, the transaction manager calls either the <xref:System.Transactions.IEnlistmentNotification.Commit%2A> or the <xref:System.Transactions.IEnlistmentNotification.Rollback%2A> method of the participant, depending on whether the latter has decided to commit or roll back the transaction."},{"content":"The participant should call the &lt;xref:System.Transactions.Enlistment.Done%2A&gt; method of this object to let the transaction manager know that it has completed its work.","pos":[824,991],"source":" The participant should call the <xref:System.Transactions.Enlistment.Done%2A> method of this object to let the transaction manager know that it has completed its work."},{"content":"An enlistment can call the &lt;xref:System.Transactions.Enlistment.Done%2A&gt; method at anytime before it has called &lt;xref:System.Transactions.PreparingEnlistment.Prepared%2A&gt; in the prepare phase.","pos":[998,1190],"source":"       An enlistment can call the <xref:System.Transactions.Enlistment.Done%2A> method at anytime before it has called <xref:System.Transactions.PreparingEnlistment.Prepared%2A> in the prepare phase."},{"content":"By doing so, the enlistment is casting a read only vote, meaning that it votes commit on the transaction but does not need to receive the final outcome.","pos":[1192,1344]},{"content":"Note that, after the &lt;xref:System.Transactions.Enlistment.Done%2A&gt; method is called, the enlisted participant receives no further notifications from the transaction manager.","pos":[1345,1518],"source":" Note that, after the <xref:System.Transactions.Enlistment.Done%2A> method is called, the enlisted participant receives no further notifications from the transaction manager."}]}]},{"pos":[2800,2866],"content":"Indicates that the transaction participant has completed its work.","needQuote":true,"needEscape":true,"nodes":[{"content":"Indicates that the transaction participant has completed its work.","pos":[0,66]}]},{"pos":[2879,4809],"content":"During the final phase of the transaction commit, the transaction manager calls either the <xref:System.Transactions.IEnlistmentNotification.Commit%2A>, <xref:System.Transactions.IEnlistmentNotification.Rollback%2A> or <xref:System.Transactions.IEnlistmentNotification.InDoubt%2A> method of the participant, depending on whether the transaction is to be committed or rolled back. The resource manager should perform any work necessary to finish the transaction and then inform the transaction manager that it has finished by calling the Done method on the `enlistment` parameter.       If the resource manager has enlisted durably, but does not respond by calling Done method, the transaction manager is unsure that the resource manager has received the respective notification call. As such, the transaction manager keeps waiting for a response, and maintains information relevant to this transaction.  If Done is never called, this piece of information is kept around indefinitely in memory or in a system-wide resource. This results in resources not being able to be reclaimed. In the case of a distributed transaction, this could eventually fill the MSDTC log which halts the MSDTC process. In the case of a transaction managed by <xref:System.Transactions>, this results in a gradual and continual increase in the memory consumption of the resource manager's process. Therefore, it is crucial that you call the Done method once your resource manager is done with your prepare work.       An enlistment can call the Done method at anytime before it has called <xref:System.Transactions.PreparingEnlistment.Prepared%2A> in the prepare phase. By doing so, the enlistment is casting a read only vote, meaning that it votes commit on the transaction but does not need to receive the final outcome. Note that, after this method is called, the enlisted participant receives no further notifications from the transaction manager.","needQuote":false,"needEscape":true,"nodes":[{"content":"During the final phase of the transaction commit, the transaction manager calls either the &lt;xref:System.Transactions.IEnlistmentNotification.Commit%2A&gt;, &lt;xref:System.Transactions.IEnlistmentNotification.Rollback%2A&gt; or &lt;xref:System.Transactions.IEnlistmentNotification.InDoubt%2A&gt; method of the participant, depending on whether the transaction is to be committed or rolled back.","pos":[0,379],"source":"During the final phase of the transaction commit, the transaction manager calls either the <xref:System.Transactions.IEnlistmentNotification.Commit%2A>, <xref:System.Transactions.IEnlistmentNotification.Rollback%2A> or <xref:System.Transactions.IEnlistmentNotification.InDoubt%2A> method of the participant, depending on whether the transaction is to be committed or rolled back."},{"content":"The resource manager should perform any work necessary to finish the transaction and then inform the transaction manager that it has finished by calling the Done method on the <ph id=\"ph1\">`enlistment`</ph> parameter.","pos":[380,579],"source":" The resource manager should perform any work necessary to finish the transaction and then inform the transaction manager that it has finished by calling the Done method on the `enlistment` parameter."},{"content":"If the resource manager has enlisted durably, but does not respond by calling Done method, the transaction manager is unsure that the resource manager has received the respective notification call.","pos":[586,783]},{"content":"As such, the transaction manager keeps waiting for a response, and maintains information relevant to this transaction.","pos":[784,902]},{"content":"If Done is never called, this piece of information is kept around indefinitely in memory or in a system-wide resource.","pos":[904,1022]},{"content":"This results in resources not being able to be reclaimed.","pos":[1023,1080]},{"content":"In the case of a distributed transaction, this could eventually fill the MSDTC log which halts the MSDTC process.","pos":[1081,1194]},{"content":"In the case of a transaction managed by &lt;xref:System.Transactions&gt;, this results in a gradual and continual increase in the memory consumption of the resource manager's process.","pos":[1195,1372],"source":" In the case of a transaction managed by <xref:System.Transactions>, this results in a gradual and continual increase in the memory consumption of the resource manager's process."},{"content":"Therefore, it is crucial that you call the Done method once your resource manager is done with your prepare work.","pos":[1373,1486]},{"content":"An enlistment can call the Done method at anytime before it has called &lt;xref:System.Transactions.PreparingEnlistment.Prepared%2A&gt; in the prepare phase.","pos":[1493,1644],"source":"       An enlistment can call the Done method at anytime before it has called <xref:System.Transactions.PreparingEnlistment.Prepared%2A> in the prepare phase."},{"content":"By doing so, the enlistment is casting a read only vote, meaning that it votes commit on the transaction but does not need to receive the final outcome.","pos":[1645,1797]},{"content":"Note that, after this method is called, the enlisted participant receives no further notifications from the transaction manager.","pos":[1798,1926]}]}],"content":"### YamlMime:ManagedReference\nitems:\n- uid: System.Transactions.Enlistment\n  id: Enlistment\n  children:\n  - System.Transactions.Enlistment.Done\n  langs:\n  - csharp\n  name: Enlistment\n  nameWithType: Enlistment\n  fullName: System.Transactions.Enlistment\n  type: Class\n  summary: Facilitates communication between an enlisted transaction participant and the transaction manager during the final phase of the transaction.\n  remarks: \"When the <xref:System.Transactions.Transaction.EnlistVolatile%2A> and <xref:System.Transactions.Transaction.EnlistDurable%2A> methods of the <xref:System.Transactions.Transaction> object are invoked to enlist a participant in a transaction, they return this object describing the enlistment.  \\n  \\n During the final phase of the transaction commit, the transaction manager passes this object to a resource manager implementing the <xref:System.Transactions.IEnlistmentNotification> interface that has enlisted in a transaction. Specifically, the transaction manager calls either the <xref:System.Transactions.IEnlistmentNotification.Commit%2A> or the <xref:System.Transactions.IEnlistmentNotification.Rollback%2A> method of the participant, depending on whether the latter has decided to commit or roll back the transaction. The participant should call the <xref:System.Transactions.Enlistment.Done%2A> method of this object to let the transaction manager know that it has completed its work.  \\n  \\n An enlistment can call the <xref:System.Transactions.Enlistment.Done%2A> method at anytime before it has called <xref:System.Transactions.PreparingEnlistment.Prepared%2A> in the prepare phase.  By doing so, the enlistment is casting a read only vote, meaning that it votes commit on the transaction but does not need to receive the final outcome. Note that, after the <xref:System.Transactions.Enlistment.Done%2A> method is called, the enlisted participant receives no further notifications from the transaction manager.\"\n  example:\n  - \"The following example shows an implementation of the <xref:System.Transactions.IEnlistmentNotification> interface, and when the <xref:System.Transactions.Enlistment.Done%2A> method should be called.  \\n  \\n [!code-cs[Tx_Enlist#2](~/add/codesnippet/csharp/t-system.transactions.en_1.cs)]\\n [!code-vb[Tx_Enlist#2](~/add/codesnippet/visualbasic/t-system.transactions.en_1.vb)]\"\n  syntax:\n    content: public class Enlistment\n  inheritance:\n  - System.Object\n  implements: []\n  inheritedMembers: []\n  platform:\n  - net462\n- uid: System.Transactions.Enlistment.Done\n  id: Done\n  parent: System.Transactions.Enlistment\n  langs:\n  - csharp\n  name: Done()\n  nameWithType: Enlistment.Done()\n  fullName: System.Transactions.Enlistment.Done()\n  type: Method\n  assemblies:\n  - System.Transactions\n  namespace: System.Transactions\n  summary: Indicates that the transaction participant has completed its work.\n  remarks: \"During the final phase of the transaction commit, the transaction manager calls either the <xref:System.Transactions.IEnlistmentNotification.Commit%2A>, <xref:System.Transactions.IEnlistmentNotification.Rollback%2A> or <xref:System.Transactions.IEnlistmentNotification.InDoubt%2A> method of the participant, depending on whether the transaction is to be committed or rolled back. The resource manager should perform any work necessary to finish the transaction and then inform the transaction manager that it has finished by calling the Done method on the `enlistment` parameter.  \\n  \\n If the resource manager has enlisted durably, but does not respond by calling Done method, the transaction manager is unsure that the resource manager has received the respective notification call. As such, the transaction manager keeps waiting for a response, and maintains information relevant to this transaction.  If Done is never called, this piece of information is kept around indefinitely in memory or in a system-wide resource. This results in resources not being able to be reclaimed. In the case of a distributed transaction, this could eventually fill the MSDTC log which halts the MSDTC process. In the case of a transaction managed by <xref:System.Transactions>, this results in a gradual and continual increase in the memory consumption of the resource manager's process. Therefore, it is crucial that you call the Done method once your resource manager is done with your prepare work.  \\n  \\n An enlistment can call the Done method at anytime before it has called <xref:System.Transactions.PreparingEnlistment.Prepared%2A> in the prepare phase. By doing so, the enlistment is casting a read only vote, meaning that it votes commit on the transaction but does not need to receive the final outcome. Note that, after this method is called, the enlisted participant receives no further notifications from the transaction manager.\"\n  syntax:\n    content: public void Done ();\n    parameters: []\n  overload: System.Transactions.Enlistment.Done*\n  exceptions: []\n  platform:\n  - net462\nreferences:\n- uid: System.Object\n  isExternal: false\n  name: System.Object\n- uid: System.Transactions.Enlistment.Done\n  parent: System.Transactions.Enlistment\n  isExternal: false\n  name: Done()\n  nameWithType: Enlistment.Done()\n  fullName: System.Transactions.Enlistment.Done()\n- uid: System.Transactions.Enlistment.Done*\n  parent: System.Transactions.Enlistment\n  isExternal: false\n  name: Done\n  nameWithType: Enlistment.Done\n"}